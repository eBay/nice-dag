{"version":3,"sources":["Root.js","useHash.js","CodeViewer.jsx","webpack:///./src/cases/sample/ReadOnlyView.js?b13a","webpack:///./src/cases/data/ReadOnlyViewData.js?8274","cases/sample/ReadOnlyView.less","webpack:///./src/cases/sample/EditableView.js?f140","webpack:///./src/cases/sample/ZoomInOutSlider.js?c661","cases/sample/EditableView.less","webpack:///./src/cases/sample/ComplexHierarchicalView.js?d50f","cases/sample/ComplexHierarchicalView.less","webpack:///./src/cases/data/ComplexHierarchicalViewData.js?5911","../../packages/nice-dag-core/lib/esm/types.js","../../packages/nice-dag-core/lib/esm/utils.js","../../packages/nice-dag-core/lib/esm/constants.js","../../packages/nice-dag-core/lib/esm/ViewNode.js","../../packages/nice-dag-core/lib/esm/niceDagHolder.js","../../packages/nice-dag-core/lib/esm/Edge.js","../../packages/nice-dag-core/lib/esm/ViewModel.js","../../packages/nice-dag-core/lib/esm/defaultInitArgs.js","../../packages/nice-dag-core/lib/esm/Minimap.js","../../packages/nice-dag-core/lib/esm/ReadOnlyNiceDag.js","../../packages/nice-dag-core/lib/esm/dndTypes.js","../../packages/nice-dag-core/lib/esm/dnd.js","../../packages/nice-dag-core/lib/esm/dndContext.js","../../packages/nice-dag-core/lib/esm/WritableNiceDag.js","../../packages/nice-dag-core/lib/esm/index.js","../../packages/nice-dag-react/lib/esm/index.js","cases/data/ReadOnlyViewData.js","cases/sample/ZoomInOutSlider.js","cases/sample/ReadOnlyView.js","cases/sample/EditableView.js","cases/data/ComplexHierarchicalViewData.js","cases/sample/ComplexHierarchicalView.js","App.js","serviceWorker.js","index.js"],"names":["module","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_hot_loader__WEBPACK_IMPORTED_MODULE_1__","_App__WEBPACK_IMPORTED_MODULE_2__","setConfig","logLevel","hot","a","createElement","getHash","document","location","hash","replace","useHash","_useState","useState","_useState2","Object","slicedToArray","setHash","useEffect","handleHashChange","window","scrollTo","top","addEventListener","removeEventListener","codeMap","ReadOnlyView.js","ReadOnlyViewData.js","ReadOnlyView.less","EditableView.js","ZoomInOutSlider.js","EditableView.less","ComplexHierarchicalView.js","ComplexHierarchicalView.less","ComplexHierarchicalViewData.js","CodeViewer","_ref","filename","Prism","highlightAll","react_default","className","concat","ViewModelChangeEventType","ViewNodeChangeEventType","NiceDagDirection","EdgeConnectorType","NiceDagModelType","NiceDagMode","__assign","assign","t","s","i","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__spreadArray","to","from","pack","ar","l","Array","slice","EditableElement","elm","exists","_this","withStyle","style","keys","forEach","key","pElement","withAttributes","attr","setAttribute","withAbsolutePoint","point","position","y","left","x","withAbsolutePosition","bounds","width","height","withSize","size","withWidth","withHeight","withClassNames","classNames","_i","classList","add","_exists","defineProperty","get","enumerable","configurable","editHtmlElement","htmlElement","parentElement","element","appendChild","createElementIfAbsent","querySelector","alreadyExists","createSvgElement","svg","name","svgElement","createElementNS","createSvgIfAbsent","selector","markerId","overflow","defs","marker","path","isEmpty","arr","float2Int","v","parseInt","Math","round","Number","EPSILON","resetBoundsWithRatio","ratio","bottom","right","htmlElementBounds","rect","getBoundingClientRect","withDefaultValues","target","defaultValues","values","NICE_DAG_NODE_CLS","NICE_DAG_EDGE_CLS","NODE_ID_ATTR","SVG_BKG_ARROW_ID","SVG_BKG_CLS","SVG_DND_ARROW_ID","SVG_DND_CLS","EDITOR_BKG_CLS","ZERO_BOUNDS","esm_ViewNode","ViewNode","node","joint","model","edgeConnectorType","_a","listeners","addNodeChangeListener","listener","some","push","removeNodeChangeListener","filter","fireNodeChange","e","onNodeChange","id","data","parentId","children","dependencies","ref","resize","doLayout","type","RESIZE","addChildNode","isCollapsed","collapse","ADD_CHILD_NODE","sourceNode","removeDependency","dependency","connect","addEdge","setPoint","POSITION_CHANGE","setBounds","fireChangeEvent","shrink","SHRINK_NODE","expand","EXPAND_NODE","withChildren","promise","useCache","then","res","refresh","remove","REMOVED","destory","NiceDag","use","esm_Edge","Edge","source","pathRef","data-source-key","data-target-key","event","insertNodes","nodes","offset","startPosition","getInsertNodesStartPosition","addNodes","newViewNode","dagId","config","graphLabel","getNodeSize","_b","mapEdgeToPoints","midX","midY","maxWidth","maxHeight","direction","rankdir","getDirection","nodeSize","LR","RL","max","removeEdge","d","opposite","adjacent","distance","sqrt","rotateStyle","atan","PI","EDGE_ELEMENT_HEIGHT","webkitTransform","mozTransform","msTransform","oTransform","transform","ViewModel_spreadArray","esm_ViewModel","ViewModel","vmConfig","isRootModel","setNodeCollapse","fireModelChange","originalSource","ADD_NODE","pChildVMs","find","vm","addNode","childVm","vNodes","vNode","pEdges","edge","REMOVE_NODE","addModelChangeListener","isSubViewNode","findNodeById","init","_nodes","buildVNodes","buildEdges","subViewModel_1","createChildVm","oldEditing","editing","REMOVE_SUB_VIEW","ADD_SUB_VIEW","_dagId","fireNiceDagChange","onModelChange","withJointNodes","gateNodes","endNodes","dependencySet","Set","has","findEndNodes","gateIds","isEndNode","item","join","jointViewNode","jointEdgeConnectorType","map","toViewNode","mode","WITH_JOINT_NODES","withNodeSize","childrenMap","oldSize","pSize","subViewPadding","maxRight","maxBottom","isRoot","cascade","childVMs","childVM","dagre","graphlabel","g","dagre_default","graphlib","Graph","setGraph","setDefaultEdgeLabel","nodeMap","setNode","Boolean","depNodeId","setEdge","layout","buildDagre","dagreNode","String","withPadding","padding","pId","setRootOffset","offsetX","offsetY","Error","_offsetY","_point","viewNode","pEdge","refreshJointNodes","toDeleteJointNodes","jointNodeIds_1","targetOfJointNodes_1","nodeId","jointNode","targetOfJointNode","depId","targetNode","createEdgeAndFireModelChange","toDeleteJointNode","newEdge","ADD_EDGE","findPrecedentedNodes","getAllNodes","allViewNodes","getAllEdges","allEdges","edges","defaultInitArgs_assign","DEFAULT_GRAPH_LABEL","ranksep","edgesep","DEFAULT_GRID_CONFIG","color","DEFAULT_SUBVIEW_PADDING","ZERO_PADDING","DEFAULT_EDGE_ATTRIBUTES","getCenterPoints","mapEdgeToPointsWithDir","CENTER","BT","TB","getDefaultEdgesAttributes","GLASS_STYLE","zIndex","display","user-select","cursor","GLASS_NODE_CLS","esm_Minimap","Minimap","args","onCanvasReady","canvas","mainLayer","zoomLayer","viewBoxElm","minimapContent","scale","scrollLeft","scrollTop","viewBoxWidthRelativeScale","offsetWidth","viewBoxHeightRelativeScale","offsetHeight","viewBoxWidth","ceil","viewBoxHeight","viewBoxLeft","viewBoxTop","border","updateViewBoxPosition","maxLeft","maxTop","min","startViewBoxDragging","initClientX","clientX","initClientY","clientY","viewBoxInitX","offsetLeft","viewBoxInitY","offsetTop","dndGlass","onViewBoxDragging","deltaX","deltaY","viewBoxScale","onMinimapDragging","onViewBoxDraggingEnd","parentContainer","container","createViewBoxElement","viewBoxClassName","contentContainer","justify-content","place-content","align-content","flex-wrap","flex-direction","align-items","createMinimapElement","addMinimapListener","minimapClassname","minimap","viewBoxClassname","calcRatio","parentSize","computedStyle","getComputedStyle","clientHeight","parseFloat","paddingTop","paddingBottom","clientWidth","paddingLeft","paddingRight","getInnerSize","zoomLayerBounds","widthHeightRatio","useWidth","render","clear","parentBounds","canvasWidth","canvasHeight","timeout","setTimeout","clearTimeout","html2canvas_default","useCORS","scrollY","scrollX","getContext","clearRect","setViewBoxScale","maxScaleX","maxScaleY","scaleX","scaleY","transformOrigin","ReadOnlyNiceDag_assign","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","DAGGER_MAIN_LAYER_CLS","DAGGER_ZOOM_LAYER_CLS","DAGGER_CONTENT_LAYER_CLS","DAGGER_NODES_LAYER_CLS","_100_PECTANGLE_SIZE_STYLE","ReadOnlyNiceDag_withDefaultValues","graphLabelWithDefaultValues","getEdgeAttributes","gridSize","gridConfig","CENTER_OF_BORDER","XDirection","YDirection","ReadOnlyNiceDag_DagView","DagView","viewConfig","appendNode","nodesLayer","mapNodeToElement","getEdgeLabel","sourceId","targetId","renderEdge","attributes","pathSvgElement","stroke","hideArrow","getNodeLayerSizeStyle","z-index","getContentLayerStyle","padding-top","padding-bottom","padding-left","padding-right","svgLayer","contentLayer","subViewContainers","subViews","subView","justifySize","_c","mapper_1","newSubView","esm_ReadOnlyNiceDag","ReadOnlyNiceDag","rootModel","getElementByNodeId","rootView","parentRect","rootContainer","getScrollPosition","onChange","fireMinimapChange","addNiceDagChangeListener","every","removeNiceDagChangeListener","onMainLayerScroll","uid","random","toString","minimapContainer","minimapConfig","_config","useDefaultMapEdgeToPoints","_rootContainer","setDirection","prettifier","justifyCenter","center","withNodes","hirerarchyNodes","modelType","FLATTEN","nodeCopy","flattenToHirerarchy","JSON","parse","stringify","setScale","_scale","dnd_assign","dnd_GLASS_NODE_CLS","dnd_GLASS_STYLE","dnd","NiceDagDnd","glassStyles","eligibleEdgeConnectors","setEnabled","enabled","_enabled","initContext","originalScrollPosition","draggingNode","draggingNodeParentBounds","niceDagNodes","querySelectorAll","niceDagNode","getAttribute","withContext","dndContext","context","startNodeDragging","editableGlass","updateRelativeMousePoint","pageX","pageY","draggingElement","cloneNode","provider","lastBounds","startEdgeDragging","isDraggingEdge","svgDndBackground","marker-mid","onDragging","stopPropagation","button","mPoint","rootBounds","xDirection","yDirection","renderDraggingEdge","onDraggingNode","endDragging","scrollDelta","findPotentialEdgeTarget","xyDelta","moveTo","parentTopLeft","getParentTopLeft","xDelta","yDelta","scrollIfNeeded","lastGlobalBounds","resizeIfNeeded","LeftToRight","RightToLeft","TopToBottom","BottomToTop","_glassStyles","body","potentialEdgeTarget","edgeSource","edgeTarget","backgroundBounds","edgeTargetGPoint","potentialConnector","connector","dndContext_assign","MOUSE_ACTION_MIN_INTERVAL","DndContext","rootXy","mrPoint","rX","None","allowDrop","mouseDownTimestamp","Date","getTime","abs","_originalPoint","originalBounds","originalOffset","_provider","validDndThreshold","relative","_x","_y","topLeftDelta","__extends","_extendStatics","b","setPrototypeOf","__proto__","TypeError","__","constructor","create","WritableNiceDag_assign","WritableNiceDag_NiceDagGrid","NiceDagGrid","xLines","yLines","_xArr","_yArr","getLines","isYAxis","_bounds","value","x1","y1","x2","y2","gridPoint","pBounds","xArr","yArr","column","row","_visible","line","appendLine","innerHTML","lineSvg","stroke-width","stroke-dasharray","redraw","set","esm_WritableNiceDag","_super","WritableNiceDag","startEditing","_editing","_dnd","setGridVisible","stopEditing","svgDndBkg","editorBkgContainer","svgGridBkg","doBackgroundLayout","_grid","addJointNode","targetNodeId","mainLayerBounds","visible","resizeBackground","relativeRight","relativeBottom","globalBounds","ifNeeded","grid","esm","initArgs","editable","niceDag","esm_extends","esm_assign","esm_rest","esm_spreadArray","esm_NiceDagNode","NiceDagNode","props","domRef","react_dom_default","createPortal","Component","esm_NiceDagEdge","NiceDagEdge","useNiceDagNode","onNodeRemove","react","useNiceDag","initNodes","validateProps","onMount","renderNode","scrollPosition","niceDagConfig","niceDagEl","minimapEl","niceDagRef","prevInitNodesRef","patchVersion","setPatchVersion","reset","current","onNiceDagChange","allNodes","console","log","elements","edgeElements","HierarchicalModel","label","lazyLoadingChildren","ZoomInOutSlider","onScaleChange","onSlideValueChange","useCallback","space","ZoomOutOutlined","slider","defaultValue","ZoomInOutlined","Option","Select","Connector","Joint","GroupControl","_ref2","_node$data","es_button","icon","FullscreenExitOutlined","onClick","NodeControl","_ref3","_node$data2","_node$children","_node$data3","PlusCircleOutlined","_node$data4","Promise","resolve","SampleNode","_ref4","_node$children2","NODE_COMP_MAPPER","start","end","_ref5","Comp","_ref6","ReadOnlyView","_useNiceDag","onDirectionChange","es_select","ZoomInOutSlider_ZoomInOutSlider","nodeCtnRef","_useNiceDagEdge","onEdgeRemove","onNodeInsert","useNiceDagEdge","runInsertBetween","menu","es_menu","items","dropdown","overlay","EditableView_Edge","onMouseDown","aria-label","role","SquareConnector","_useNiceDagNode5","DragOutlined","CloseOutlined","_ref7","_useNiceDagNode6","CloseCircleOutlined","_ref8","_useNiceDagNode7","_ref9","EditableView_GroupControl","EditableView_NodeControl","EditableView_Connector","_ref10","EditableDagView","ComplexFlattenModel","ComplexHierarchicalView_GroupControl","ComplexHierarchicalView_NodeControl","ComplexHierarchicalView_Connector","ComplexView","TabPane","Tabs","examples","read-only-view","component","ReadOnlyView_ReadOnlyView","code","less","editable-view","complex-structure-view","App","example","ele","href","Fragment","renderExample","tabs","defaultActiveKey","tab","f","hostname","match","ReactDOM","Root","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e1e065fd.chunk.js","sourcesContent":["/* This is the Root component mainly initializes Redux and React Router. */\n\nimport React from 'react';\nimport { hot, setConfig } from 'react-hot-loader';\nimport App from './App';\n\nsetConfig({\n  logLevel: 'debug',\n});\n\n\nfunction Root() {\n  return <App />;\n}\n\nexport default hot(module)(Root);\n","import { useEffect, useState } from 'react';\n\nconst getHash = () => document.location.hash.replace('#', '');\n\nconst useHash = () => {\n  const [hash, setHash] = useState(getHash());\n  useEffect(() => {\n    function handleHashChange() {\n      const hash = getHash() || 'basic';\n      setHash(hash);\n      window.scrollTo({ top: 0 });\n    }\n    window.addEventListener('hashchange', handleHashChange);\n    return () => {\n      window.removeEventListener('hashchange', handleHashChange);\n    };\n  }, [setHash]);\n  return hash;\n};\n\nexport default useHash;\n","/* eslint import/no-webpack-loader-syntax: off */\n\nimport React, { useEffect } from 'react';\nimport readOnlyViewCode from '!!raw-loader!./cases/sample/ReadOnlyView.js';\nimport readOnlyViewData from '!!raw-loader!./cases/data/ReadOnlyViewData.js';\nimport readOnlyViewLess from '!!raw-loader!./cases/sample/ReadOnlyView.less';\n\nimport editableViewCode from '!!raw-loader!./cases/sample/EditableView.js';\nimport editableViewLess from '!!raw-loader!./cases/sample/EditableView.less';\n\nimport complexHierarchicalViewCode from '!!raw-loader!./cases/sample/ComplexHierarchicalView.js';\nimport complexHierarchicalViewData from '!!raw-loader!./cases/data/ComplexHierarchicalViewData.js';\nimport complexHierarchicalViewLess from '!!raw-loader!./cases/sample/ComplexHierarchicalView.less';\n\nimport zoomInOutSliderCode from '!!raw-loader!./cases/sample/ZoomInOutSlider.js';\n\nconst codeMap = {\n  'ReadOnlyView.js': readOnlyViewCode,\n  'ReadOnlyViewData.js': readOnlyViewData,\n  'ReadOnlyView.less': readOnlyViewLess,\n  'EditableView.js': editableViewCode,\n  'ZoomInOutSlider.js': zoomInOutSliderCode,\n  'EditableView.less': editableViewLess,\n  'ComplexHierarchicalView.js': complexHierarchicalViewCode,\n  'ComplexHierarchicalView.less': complexHierarchicalViewLess,\n  'ComplexHierarchicalViewData.js': complexHierarchicalViewData\n};\nexport default function CodeViewer({ filename }) {\n  useEffect(() => {\n    if (window.Prism) window.Prism.highlightAll();\n  }, [filename]);\n  return (\n    <pre>\n      <code className=\"language-jsx line-numbers\">\n        {codeMap[filename] || `// Error: code of \"${filename}\" not found`}\n      </code>\n    </pre>\n  );\n}\n","export default \"import React, { useCallback, useEffect } from 'react';\\nimport { useNiceDag } from '@ebay/nice-dag-react';\\nimport { HierarchicalModel, FlattenModel } from '../data/ReadOnlyViewData';\\nimport { FullscreenExitOutlined, PlusCircleOutlined } from '@ant-design/icons';\\nimport { Button, Space, Select } from 'antd';\\nimport ZoomInOutSlider from './ZoomInOutSlider';\\n\\nconst Option = Select.Option;\\n\\nconst NODE_WIDTH = 150;\\nconst NODE_HEIGHT = 60;\\nconst CIRCLE_W_H = 30;\\n\\nfunction StartNode() {\\n  return <div className=\\\"readonly-sample-start-node\\\" />;\\n}\\n\\nfunction EndNode() {\\n  return <div className=\\\"readonly-sample-end-node\\\" />;\\n}\\n\\nfunction Connector({ type }) {\\n  return <div className={`readonly-sample-connector-${type}`} />;\\n}\\n\\nfunction Joint() {\\n  return <div className={`readonly-sample-joint-node`} />;\\n}\\n\\nfunction GroupControl({ node }) {\\n  return (\\n    <div className=\\\"readonly-sample-node-group-content\\\">\\n      <div>\\n        {node.data?.label || node.id}\\n        <Button\\n          icon={<FullscreenExitOutlined />}\\n          onClick={() => {\\n            node.shrink();\\n          }}\\n          type=\\\"link\\\"\\n        />\\n      </div>\\n    </div>\\n  );\\n}\\n\\nfunction NodeControl({ node }) {\\n  return (\\n    <div className=\\\"readonly-sample-node-content\\\">\\n      <span>{node.data?.label || node.id}</span>\\n      {(node.children?.length > 0 || node.data?.lazyLoadingChildren) && (\\n        <Button\\n          icon={<PlusCircleOutlined />}\\n          onClick={() => {\\n            if (node.data?.lazyLoadingChildren) {\\n              node.withChildren(new Promise((resolve) => {\\n                resolve([{\\n                  id: 'step-1',\\n                }, {\\n                  id: 'step-2',\\n                  dependencies: ['step-1']\\n                }])\\n              }));\\n            } else {\\n              node.expand();\\n            }\\n          }}\\n          type=\\\"link\\\"\\n        />\\n      )}\\n    </div>\\n  );\\n}\\n\\nfunction SampleNode({ node, niceDag }) {\\n  return (\\n    <div className=\\\"readonly-sample-node\\\">\\n      {node.children?.length > 0 && !node.collapse ? (\\n        <GroupControl node={node} niceDag={niceDag} />\\n      ) : (\\n        <NodeControl node={node} niceDag={niceDag} />\\n      )}\\n      <Connector type=\\\"in\\\" />\\n      <Connector type=\\\"out\\\" />\\n    </div>\\n  );\\n}\\n\\nconst getNodeSize = node => {\\n  if (node.id === 'start' || node.id === 'end' || node.joint) {\\n    return {\\n      width: CIRCLE_W_H,\\n      height: CIRCLE_W_H,\\n    };\\n  }\\n  return {\\n    width: NODE_WIDTH,\\n    height: NODE_HEIGHT,\\n  };\\n};\\n\\nconst NODE_COMP_MAPPER = {\\n  start: StartNode,\\n  end: EndNode,\\n};\\n\\nconst renderNode = ({ node, niceDag }) => {\\n  let Comp = NODE_COMP_MAPPER[node.id] || SampleNode;\\n  if (node.joint) {\\n    Comp = Joint;\\n  }\\n  return <Comp node={node} niceDag={niceDag} />;\\n};\\n\\nconst renderEdge = ({ edge, niceDag }) => {\\n  return <div className=\\\"readonly-sample-edge-label\\\">to</div>;\\n};\\n\\nexport default function ReadOnlyView() {\\n  const { niceDag, niceDagEl, minimapEl, render } = useNiceDag({\\n    initNodes: HierarchicalModel,\\n    getNodeSize,\\n    renderNode,\\n    renderEdge,\\n    minimapConfig: {\\n      viewBoxClassName: 'readonly-sample-minimap-viewbox',\\n    }\\n  });\\n  useEffect(() => {\\n    if (niceDag) {\\n      const bounds = niceDagEl.current.getBoundingClientRect();\\n      niceDag.center({\\n        width: bounds.width,\\n        height: 400,\\n      });\\n    }\\n  }, [niceDag, niceDagEl]);\\n  const onDirectionChange = useCallback((value) => {\\n    niceDag.setDirection(value);\\n  }, [niceDag]);\\n  return (\\n    <div className=\\\"readonly-sample\\\">\\n      <div>\\n        <Space>\\n          <label>Direction</label>\\n          <Select defaultValue=\\\"LR\\\" style={{ width: 120 }} onChange={onDirectionChange}>\\n            <Option value=\\\"LR\\\">Left to Right</Option>\\n            <Option value=\\\"RL\\\">Right to Left</Option>\\n            <Option value=\\\"TB\\\">Top To Bottom</Option>\\n            <Option value=\\\"BT\\\">Bottom To Top</Option>\\n          </Select>\\n          <ZoomInOutSlider onScaleChange={value => niceDag.setScale(value / 100)} />\\n        </Space>\\n      </div>\\n      <div className=\\\"readonly-sample-content\\\">\\n        <div className=\\\"readonly-sample-content-nice-dag\\\" ref={niceDagEl} />\\n        <div className=\\\"readonly-sample-content-minimap\\\" >\\n          <div className=\\\"readonly-sample-content-minimap-body\\\" ref={minimapEl} />\\n        </div>\\n        {render()}\\n      </div>\\n    </div>\\n  );\\n}\\n\";","export default \"export const HierarchicalModel = [\\n  {\\n    id: 'start',\\n  },\\n  {\\n    id: 'git-clone',\\n    dependencies: ['start'],\\n    data: {\\n      label: 'Git Clone',\\n    },\\n  },\\n  {\\n    id: 'mvn',\\n    dependencies: ['git-clone'],\\n    data: {\\n      label: 'Mvn Install',\\n    },\\n  },\\n  {\\n    id: 'security-check',\\n    dependencies: ['git-clone'],\\n    data: {\\n      label: 'Security Check',\\n    },\\n  },\\n  {\\n    id: 'build',\\n    dependencies: ['mvn', 'security-check'],\\n    data: {\\n      label: 'Build',\\n      lazyLoadingChildren: true\\n    },\\n  },\\n  {\\n    id: 'deploy-fp-1',\\n    dependencies: ['build'],\\n    data: {\\n      label: 'Deploy Feature-1',\\n    },\\n    children: [\\n      {\\n        id: 'provision-fp-1',\\n        data: {\\n          label: 'Provision Pool',\\n        },\\n      },\\n      {\\n        id: 'deployment-fp-1',\\n        dependencies: ['provision-fp-1'],\\n        data: {\\n          label: 'Deployment',\\n        },\\n      },\\n    ],\\n  },\\n  {\\n    id: 'deploy-fp-2',\\n    dependencies: ['build'],\\n    data: {\\n      label: 'Deploy Feature-2',\\n    },\\n    children: [\\n      {\\n        id: 'provision-fp-2',\\n        data: {\\n          label: 'Provision Pool',\\n        },\\n      },\\n      {\\n        id: 'deployment-fp-2',\\n        dependencies: ['provision-fp-2'],\\n        data: {\\n          label: 'Deployment',\\n        },\\n      },\\n    ],\\n  },\\n  {\\n    id: 'smoke-test',\\n    dependencies: ['deploy-fp-1', 'deploy-fp-2'],\\n  },\\n  {\\n    id: 'integration-test',\\n    dependencies: ['smoke-test'],\\n  },\\n  {\\n    id: 'prod-deployment',\\n    dependencies: ['integration-test'],\\n  },\\n  {\\n    id: 'end',\\n    dependencies: ['prod-deployment'],\\n  },\\n];\\n\\nexport const FlattenModel = [\\n  {\\n    id: 'start',\\n  },\\n  {\\n    id: 'git-clone',\\n    dependencies: ['start'],\\n    data: {\\n      label: 'Git Clone',\\n    },\\n  },\\n  {\\n    id: 'mvn',\\n    dependencies: ['git-clone'],\\n    data: {\\n      label: 'Mvn Install',\\n    },\\n  },\\n  {\\n    id: 'security-check',\\n    dependencies: ['git-clone'],\\n    data: {\\n      label: 'Security Check',\\n    },\\n  },\\n  {\\n    id: 'build',\\n    dependencies: ['mvn', 'security-check'],\\n    data: {\\n      label: 'Build',\\n    },\\n  },\\n  {\\n    id: 'deploy-fp-1',\\n    dependencies: ['build'],\\n    data: {\\n      label: 'Deploy Feature-1',\\n    },\\n  },\\n  {\\n    id: 'provision-fp-1',\\n    data: {\\n      label: 'Provision Pool',\\n    },\\n    parentId: 'deploy-fp-1'\\n  },\\n  {\\n    id: 'deployment-fp-1',\\n    dependencies: ['provision-fp-1'],\\n    data: {\\n      label: 'Deployment',\\n    },\\n    parentId: 'deploy-fp-1'\\n  },\\n  {\\n    id: 'deploy-fp-2',\\n    dependencies: ['build'],\\n    data: {\\n      label: 'Deploy Feature-2',\\n    },\\n  },\\n  {\\n    id: 'provision-fp-2',\\n    data: {\\n      label: 'Provision Pool',\\n    },\\n    parentId: 'deploy-fp-2'\\n  },\\n  {\\n    id: 'deployment-fp-2',\\n    dependencies: ['provision-fp-2'],\\n    data: {\\n      label: 'Deployment',\\n    },\\n    parentId: 'deploy-fp-2'\\n  },\\n  {\\n    id: 'deployment-fp-3',\\n    dependencies: ['deployment-fp-2'],\\n    data: {\\n      label: 'Last Step',\\n    },\\n    parentId: 'deploy-fp-2'\\n\\n  },\\n  {\\n    id: 'deployment-fp-2-2',\\n    data: {\\n      label: 'Deployment-child',\\n    },\\n    parentId: 'deployment-fp-2'\\n  },\\n  {\\n    id: 'deployment-fp-2-2-child',\\n    data: {\\n      label: 'Deployment-child-child',\\n    },\\n    parentId: 'deployment-fp-2-2'\\n  },\\n  {\\n    id: 'smoke-test',\\n    dependencies: ['deploy-fp-1', 'deploy-fp-2'],\\n  },\\n  {\\n    id: 'integration-test',\\n    dependencies: ['smoke-test'],\\n  },\\n  {\\n    id: 'prod-deployment',\\n    dependencies: ['integration-test'],\\n  },\\n  {\\n    id: 'end',\\n    dependencies: ['prod-deployment'],\\n  },\\n];\";","export default \"@import '../../styles/mixins';\\n@conector-size: 16px;\\n\\n.readonly-sample {\\n  .ant-slider {\\n    min-width: 180px;\\n  }\\n  &-minimap {\\n    width: 250px;\\n    height: 200px;\\n  }\\n  &-edge-label {\\n    text-align: center;\\n    margin-top: -20px;\\n  }\\n  &-start-node,\\n  &-end-node,\\n  &-joint-node {\\n    border: 1px solid black;\\n    border-radius: 50%;\\n    width: 30px;\\n    height: 30px;\\n    background: white;\\n  }\\n\\n  &-joint-node {\\n    font-size: 18px;\\n    display: flex;\\n    align-content: center;\\n    justify-content: center;\\n    align-items: center;\\n  }\\n\\n  &-end-node::before {\\n    content: '';\\n    position: absolute;\\n    border: 1px solid black;\\n    border-radius: 50%;\\n    background: black;\\n    top: 5px;\\n    left: 5px;\\n    width: 20px;\\n    height: 20px;\\n  }\\n\\n  &-connector {\\n    &-in,\\n    &-out {\\n      width: @conector-size;\\n      height: @conector-size;\\n      border: 1px solid black;\\n      border-radius: 50%;\\n      position: absolute;\\n      margin: auto;\\n      top: 0;\\n      bottom: 0;\\n      background: white;\\n    }\\n\\n    &-in {\\n      left: @conector-size / -2;\\n    }\\n    &-out {\\n      right: @conector-size / -2;\\n    }\\n  }\\n\\n  &-node {\\n    width: 100%;\\n    height: 100%;\\n    &-group-content,\\n    &-content {\\n      position: relative;\\n      width: 100%;\\n      height: 100%;\\n      border: 1px solid #8799c1;\\n      border-radius: 10px;\\n      display: flex;\\n      flex-direction: column;\\n    }\\n    &-group-content {\\n      padding: 4px 20px;\\n      > div {\\n        height: 30px;\\n\\n        a {\\n          margin-left: 6px;\\n          font-size: 16px;\\n        }\\n      }\\n    }\\n    &-content {\\n      align-items: center;\\n      justify-content: center;\\n    }\\n  }\\n\\n  &-content {\\n    height: 400px;\\n    position: relative;\\n    &-nice-dag {\\n      height: 100%;\\n    }\\n    &-minimap {\\n      position: absolute;\\n      right: 0;\\n      width: 250px;\\n      height: 120px;\\n      bottom: 20px; //scroll bar\\n      border: 1px solid gray;\\n      padding: 2px 2px;\\n      background-color: #efefef;\\n\\n      &-body {\\n        width: 100%;\\n        height: 100%;\\n      }\\n    }\\n  }\\n  &-minimap-viewbox {\\n    border: 1px solid orange !important\\n  }\\n}\\n\\n \\n\";","export default \"import React, { useCallback, useEffect } from 'react';\\nimport { useNiceDag, useNiceDagNode, useNiceDagEdge } from '@ebay/nice-dag-react';\\nimport { HierarchicalModel } from '../data/ReadOnlyViewData';\\nimport {\\n  FullscreenExitOutlined,\\n  PlusCircleOutlined,\\n  DragOutlined,\\n  CloseCircleOutlined,\\n  CloseOutlined\\n} from '@ant-design/icons';\\nimport { Button, Dropdown, Menu, Space } from 'antd';\\nimport ZoomInOutSlider from './ZoomInOutSlider';\\n\\nconst NODE_WIDTH = 150;\\nconst NODE_HEIGHT = 60;\\nconst CIRCLE_W_H = 30;\\n\\nfunction StartNode({ node, niceDag }) {\\n  const { startNodeDragging } = useNiceDagNode({ node, niceDag });\\n  return (\\n    <div className=\\\"editable-sample-start-node\\\">\\n      <div className=\\\"editable-sample-start-node-move-hand\\\" onMouseDown={startNodeDragging} />\\n      <SquareConnector type=\\\"out\\\" node={node} niceDag={niceDag} />\\n    </div>\\n  );\\n}\\n\\nfunction EndNode({ node, niceDag }) {\\n  const { startNodeDragging } = useNiceDagNode({ node, niceDag });\\n  return (\\n    <div className=\\\"editable-sample-end-node\\\" onMouseDown={startNodeDragging}>\\n      <SquareConnector type=\\\"in\\\" />\\n    </div>\\n  );\\n}\\n\\nlet nodeCtnRef = 0;\\nfunction Edge({ edge }) {\\n  const { onEdgeRemove, onNodeInsert } = useNiceDagEdge(edge);\\n  const runInsertBetween = useCallback(() => {\\n    onNodeInsert([\\n      {\\n        'id': `insert-node-${nodeCtnRef}`\\n      },\\n      {\\n        'id': `insert-node-${nodeCtnRef + 1}`\\n      },\\n      {\\n        'id': `insert-node-${nodeCtnRef + 2}`\\n      }\\n    ]);\\n    nodeCtnRef += 3;\\n  }, [onNodeInsert]);\\n  const menu = (\\n    <Menu\\n      items={[\\n        {\\n          key: '1',\\n          label: <span onClick={onEdgeRemove}>Remove</span>,\\n        },\\n        {\\n          key: '2',\\n          label: <span onClick={runInsertBetween}>Insert Tasks</span>,\\n        },\\n      ]}\\n    />\\n  );\\n  return (\\n    <div className=\\\"editable-sample-edge-label\\\">\\n      <Dropdown overlay={menu}>\\n        <div />\\n      </Dropdown>\\n    </div>\\n  );\\n}\\n\\nconst renderEdge = props => {\\n  return <Edge {...props} />;\\n};\\n\\nfunction Connector({ type, niceDag, node }) {\\n  const { startEdgeDragging } = useNiceDagNode({ node, niceDag });\\n  return <div className={`editable-sample-connector-${type}`} onMouseDown={startEdgeDragging}\\n    aria-label={`${type === 'in' ? 'Inbound' : 'Outbound'}Connector`} role=\\\"button\\\" />\\n}\\n\\nfunction SquareConnector({ type, niceDag, node }) {\\n  const { startEdgeDragging } = useNiceDagNode({ node, niceDag });\\n  return (\\n    <div className={`editable-sample-square-connector-${type}`} onMouseDown={startEdgeDragging} />\\n  );\\n}\\n\\nfunction Joint({ node, niceDag }) {\\n  const { onNodeRemove, startNodeDragging } = useNiceDagNode({ node, niceDag });\\n  return <div className=\\\"editable-sample-joint-node\\\">\\n    <div className=\\\"editable-sample-joint-node-move\\\" onMouseDown={startNodeDragging}>\\n      <DragOutlined />\\n    </div>\\n    <div\\n      className=\\\"editable-sample-joint-node-remove-button\\\"\\n      role=\\\"button\\\"\\n      onMouseDown={onNodeRemove}\\n      aria-label=\\\"Remove joint node\\\"\\n    >\\n      <CloseOutlined />\\n    </div>\\n    <SquareConnector type=\\\"in\\\" />\\n    <SquareConnector type=\\\"out\\\" node={node} niceDag={niceDag} />\\n  </div>;\\n}\\n\\nfunction GroupControl({ node, niceDag }) {\\n  const { onNodeRemove, startNodeDragging } = useNiceDagNode({ node, niceDag });\\n  return (\\n    <div className=\\\"editable-sample-node-group-content\\\">\\n      <div>\\n        <div className=\\\"editable-sample-node-group-content-bar\\\" onMouseDown={startNodeDragging}>\\n          <span>{node.data?.label || node.id}</span>\\n          <DragOutlined />\\n        </div>\\n        <div\\n          className=\\\"editable-sample-node-group-content-delete-button\\\"\\n          role=\\\"button\\\"\\n          onMouseDown={onNodeRemove}\\n        >\\n          <CloseCircleOutlined />\\n        </div>\\n        <Button\\n          icon={<FullscreenExitOutlined />}\\n          onClick={() => {\\n            node.shrink();\\n          }}\\n          type=\\\"link\\\"\\n        />\\n      </div>\\n    </div>\\n  );\\n}\\n\\nfunction NodeControl({ node, niceDag }) {\\n  const { onNodeRemove, startNodeDragging } = useNiceDagNode({ node, niceDag });\\n  return (\\n    <div className=\\\"editable-sample-node-content\\\">\\n      <div className=\\\"editable-sample-node-content-bar\\\" onMouseDown={startNodeDragging}>\\n        <span>{node.data?.label || node.id}</span>\\n        <DragOutlined />\\n      </div>\\n      <div\\n        className=\\\"editable-sample-node-content-delete-button\\\"\\n        role=\\\"button\\\"\\n        onMouseDown={onNodeRemove}\\n      >\\n        <CloseCircleOutlined />\\n      </div>\\n      {(node.children?.length > 0 || node.data?.lazyLoadingChildren) && (\\n        <Button\\n          icon={<PlusCircleOutlined />}\\n          onClick={() => {\\n            if (node.data?.lazyLoadingChildren) {\\n              node.withChildren(new Promise((resolve) => {\\n                resolve([{\\n                  id: 'step-1',\\n                }, {\\n                  id: 'step-2',\\n                  dependencies: ['step-1']\\n                }])\\n              }));\\n            } else {\\n              node.expand();\\n            }\\n          }}\\n          type=\\\"link\\\"\\n        />\\n      )}\\n    </div>\\n  );\\n}\\n\\nfunction SampleNode({ node, niceDag }) {\\n  return (\\n    <div className=\\\"editable-sample-node\\\">\\n      {node.children?.length > 0 && !node.collapse ? (\\n        <GroupControl node={node} niceDag={niceDag} />\\n      ) : (\\n        <NodeControl node={node} niceDag={niceDag} />\\n      )}\\n      <Connector type=\\\"in\\\" />\\n      <Connector type=\\\"out\\\" node={node} niceDag={niceDag} />\\n    </div>\\n  );\\n}\\n\\nconst getNodeSize = node => {\\n  if (node.id === 'start' || node.id === 'end' || node.joint) {\\n    return {\\n      width: CIRCLE_W_H,\\n      height: CIRCLE_W_H,\\n    };\\n  }\\n  return {\\n    width: NODE_WIDTH,\\n    height: NODE_HEIGHT,\\n  };\\n};\\n\\nconst NODE_COMP_MAPPER = {\\n  start: StartNode,\\n  end: EndNode,\\n};\\n\\nconst renderNode = ({ node, niceDag }) => {\\n  let Comp = NODE_COMP_MAPPER[node.id] || SampleNode;\\n  if (node.joint) {\\n    Comp = Joint;\\n  }\\n  return <Comp node={node} niceDag={niceDag} />;\\n};\\n\\nexport default function EditableDagView() {\\n  const { niceDag, niceDagEl, render } = useNiceDag({\\n    initNodes: HierarchicalModel,\\n    getNodeSize,\\n    renderNode,\\n    editable: true,\\n    renderEdge,\\n    jointEdgeConnectorType: 'CENTER_OF_BORDER'\\n  });\\n  useEffect(() => {\\n    if (niceDag) {\\n      const bounds = document.querySelector('.editable-sample').getBoundingClientRect();\\n      niceDag\\n        .center({\\n          width: bounds.width,\\n          height: 400,\\n        })\\n        .startEditing();\\n    }\\n  }, [niceDag]);\\n  return (\\n    <div className=\\\"editable-sample\\\">\\n      <div>\\n        <Space>\\n          <Button\\n            size=\\\"small\\\"\\n            onClick={() => {\\n              niceDag.prettifier();\\n            }}\\n          >\\n            Prettifier\\n          </Button>\\n          <Button\\n            size=\\\"small\\\"\\n            onClick={() => {\\n              niceDag.addNode({\\n                id: `new-node-${nodeCtnRef}`,\\n              }, {\\n                x: 40,\\n                y: 40\\n              });\\n              nodeCtnRef = nodeCtnRef + 1;\\n            }}\\n          >\\n            Add Node\\n          </Button>\\n          <Button\\n            size=\\\"small\\\"\\n            onClick={() => {\\n              niceDag.addJointNode({\\n                id: `new-node-${nodeCtnRef}`\\n              }, {\\n                x: 40,\\n                y: 40\\n              });\\n              nodeCtnRef = nodeCtnRef + 1;\\n            }}\\n          >\\n            Add Joint Node\\n          </Button>\\n          <ZoomInOutSlider onScaleChange={value => niceDag.setScale(value / 100)} />\\n        </Space>\\n      </div>\\n      <div className=\\\"editable-sample-nice-dag-wrapper\\\" ref={niceDagEl} />\\n      {render()}\\n    </div>\\n  );\\n}\\n\";","export default \"import React, { useState, useCallback } from 'react';\\nimport { Slider, Space } from 'antd';\\nimport { ZoomInOutlined, ZoomOutOutlined } from '@ant-design/icons';\\n\\nexport default function ZoomInOutSlider({ onScaleChange }) {\\n  const [scale, setScale] = useState(100);\\n  const onSlideValueChange = useCallback(\\n    value => {\\n      setScale(value);\\n      onScaleChange(value);\\n    },\\n    [onScaleChange],\\n  );\\n  return (\\n    <Space>\\n      <ZoomOutOutlined />\\n      <Slider defaultValue={scale} onChange={onSlideValueChange} />\\n      <ZoomInOutlined />\\n    </Space>\\n  );\\n}\\n\";","export default \"@import '../../styles/mixins';\\n@conector-size: 16px;\\n\\n.editable-sample {\\n  .ant-slider {\\n    min-width: 180px;\\n  }\\n  &-edge-label {\\n    height: 100%;\\n    width: calc(~'100% - ' @conector-size);\\n    margin: auto;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    &:hover {\\n      background: rgba(0, 0, 255, 0.2);\\n    }\\n\\n    div {\\n      width: 16px;\\n      height: 16px;\\n    }\\n  }\\n  &-start-node {\\n    &-move-hand {\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      right: 0;\\n      bottom: 0;\\n    }\\n  }\\n  &-start-node,\\n  &-end-node,\\n  &-joint-node {\\n    border: 1px solid black;\\n    border-radius: 50%;\\n    width: 30px;\\n    height: 30px;\\n    background: white;\\n  }\\n\\n  &-joint-node {\\n    &-move {\\n      text-align: center;\\n      padding-top: 2px;\\n      z-index: 1;\\n    }\\n\\n    &-remove-button {\\n      position: absolute;\\n      top: -10px;\\n      right: -2px;\\n      background-color: white;\\n      border: 1px solid black;\\n      height: 14px;\\n      font-size: 12px;\\n\\n      .anticon-close {\\n        transform: translateY(-2px);\\n      }\\n    }\\n  }\\n\\n  &-end-node::before {\\n    content: '';\\n    position: absolute;\\n    border: 1px solid black;\\n    border-radius: 50%;\\n    background: darkgray;\\n    top: 5px;\\n    left: 5px;\\n    width: 20px;\\n    height: 20px;\\n  }\\n\\n  &-square-connector,\\n  &-connector {\\n    &-in,\\n    &-out {\\n      width: @conector-size;\\n      height: @conector-size;\\n      border: 1px solid black;\\n      border-radius: 50%;\\n      position: absolute;\\n      margin: auto;\\n      top: 0;\\n      bottom: 0;\\n      background: white;\\n    }\\n\\n    &-in {\\n      left: @conector-size / -2;\\n    }\\n    &-out {\\n      right: @conector-size / -2;\\n      cursor: pointer;\\n      z-index: 1;\\n    }\\n  }\\n\\n  &-square-connector {\\n    &-in,\\n    &-out {\\n      border: 1px solid black;\\n      border-radius: 0;\\n    }\\n  }\\n\\n  &-node {\\n    width: 100%;\\n    height: 100%;\\n    background: white;\\n\\n    &-group-content,\\n    &-content {\\n      position: relative;\\n      width: 100%;\\n      height: 100%;\\n      border: 1px solid #8799c1;\\n      border-radius: 10px;\\n      display: flex;\\n      flex-direction: column;\\n\\n      &-delete-button {\\n        position: absolute;\\n        right: -10px;\\n        top: -11px;\\n        background: white;\\n        font-size: 18px;\\n        height: 20px;\\n      }\\n\\n      &-bar {\\n        cursor: pointer;\\n        z-index: 2;\\n        span:nth-child(2) {\\n          margin-left: 4px;\\n          font-size: 16px;\\n        }\\n      }\\n    }\\n    &-group-content {\\n      padding: 4px 20px;\\n      > div {\\n        height: 30px;\\n\\n        a {\\n          margin-left: 6px;\\n          font-size: 16px;\\n        }\\n      }\\n      &-bar {\\n        cursor: pointer;\\n        display: inline-block;\\n        span:nth-child(2) {\\n          margin-left: 4px;\\n          font-size: 16px;\\n        }\\n      }\\n    }\\n    &-content {\\n      align-items: center;\\n      justify-content: center;\\n    }\\n  }\\n\\n  &-nice-dag-wrapper {\\n    height: 400px;\\n    border: 1px solid #efefef;\\n  }\\n}\\n\";","export default \"import React, { useEffect } from 'react';\\nimport { useNiceDag } from '@ebay/nice-dag-react';\\nimport { ComplexFlattenModel } from '../data/ComplexHierarchicalViewData';\\nimport { FullscreenExitOutlined, PlusCircleOutlined } from '@ant-design/icons';\\nimport { Button, Space } from 'antd';\\nimport ZoomInOutSlider from './ZoomInOutSlider';\\n\\nconst NODE_WIDTH = 150;\\nconst NODE_HEIGHT = 60;\\nconst CIRCLE_W_H = 30;\\n\\nfunction StartNode() {\\n  return <div className=\\\"complex-sample-start-node\\\" />;\\n}\\n\\nfunction EndNode() {\\n  return <div className=\\\"complex-sample-end-node\\\" />;\\n}\\n\\nfunction Connector({ type }) {\\n  return <div className={`complex-sample-connector-${type}`} />;\\n}\\n\\nfunction Joint() {\\n  return <div className={`complex-sample-joint-node`} />;\\n}\\n\\nfunction GroupControl({ node }) {\\n  return (\\n    <div className=\\\"complex-sample-node-group-content\\\">\\n      <div>\\n        {node.data?.label || node.id}\\n        <Button\\n          icon={<FullscreenExitOutlined />}\\n          onClick={() => {\\n            node.shrink();\\n          }}\\n          type=\\\"link\\\"\\n        />\\n      </div>\\n    </div>\\n  );\\n}\\n\\nfunction NodeControl({ node }) {\\n  return (\\n    <div className=\\\"complex-sample-node-content\\\">\\n      <span>{node.data?.label || node.id}</span>\\n      {(node.children?.length > 0 || node.data?.lazyLoadingChildren) && (\\n        <Button\\n          icon={<PlusCircleOutlined />}\\n          onClick={() => {\\n            if (node.data?.lazyLoadingChildren) {\\n              node.withChildren(new Promise((resolve) => {\\n                resolve([{\\n                  id: 'step-1',\\n                }, {\\n                  id: 'step-2',\\n                  dependencies: ['step-1']\\n                }])\\n              }));\\n            } else {\\n              node.expand();\\n            }\\n          }}\\n          type=\\\"link\\\"\\n        />\\n      )}\\n    </div>\\n  );\\n}\\n\\nfunction SampleNode({ node, niceDag }) {\\n  return (\\n    <div className=\\\"complex-sample-node\\\">\\n      {node.children?.length > 0 && !node.collapse ? (\\n        <GroupControl node={node} niceDag={niceDag} />\\n      ) : (\\n        <NodeControl node={node} niceDag={niceDag} />\\n      )}\\n      <Connector type=\\\"in\\\" />\\n      <Connector type=\\\"out\\\" />\\n    </div>\\n  );\\n}\\n\\nconst getNodeSize = node => {\\n  if (node.id === 'start' || node.id === 'end' || node.joint) {\\n    return {\\n      width: CIRCLE_W_H,\\n      height: CIRCLE_W_H,\\n    };\\n  }\\n  return {\\n    width: NODE_WIDTH,\\n    height: NODE_HEIGHT,\\n  };\\n};\\n\\nconst NODE_COMP_MAPPER = {\\n  start: StartNode,\\n  end: EndNode,\\n};\\n\\nconst renderNode = ({ node, niceDag }) => {\\n  let Comp = NODE_COMP_MAPPER[node.id] || SampleNode;\\n  if (node.joint) {\\n    Comp = Joint;\\n  }\\n  return <Comp node={node} niceDag={niceDag} />;\\n};\\n\\nconst renderEdge = ({ edge, niceDag }) => {\\n  return <div className=\\\"complex-sample-edge-label\\\">to</div>;\\n};\\n\\nfunction mapEdgeToPoints(edge) {\\n  const { source, target } = edge;\\n  let edgeSource = {\\n    x: source.x + source.width,\\n    y: source.y + source.height / 2,\\n  };\\n  let edgeTarget = {\\n    x: target.x,\\n    y: target.y + target.height / 2,\\n  };\\n  if (source.joint || source.id.indexOf('start') !== -1) {\\n    edgeSource = {\\n      x: source.x + source.width / 2,\\n      y: source.y + source.height / 2,\\n    };\\n  } else if (target.joint || target.id.indexOf('end') !== -1) {\\n    edgeTarget = {\\n      x: target.x + target.width / 2,\\n      y: target.y + target.height / 2,\\n    };\\n  }\\n  return {\\n    source: edgeSource,\\n    target: edgeTarget,\\n  };\\n}\\n\\nexport default function ComplexView() {\\n  const { niceDag, niceDagEl, render } = useNiceDag({\\n    initNodes: ComplexFlattenModel,\\n    modelType: 'FLATTEN',\\n    getNodeSize,\\n    renderNode,\\n    mapEdgeToPoints,\\n    renderEdge,\\n  });\\n  useEffect(() => {\\n    if (niceDag) {\\n      const bounds = niceDagEl.current.getBoundingClientRect();\\n      niceDag.center({\\n        width: bounds.width,\\n        height: 400,\\n      });\\n    }\\n  }, [niceDag, niceDagEl]);\\n  return (\\n    <div className=\\\"complex-sample\\\">\\n      <div>\\n        <Space>\\n          <ZoomInOutSlider onScaleChange={value => niceDag.setScale(value / 100)} />\\n        </Space>\\n      </div>\\n      <div className=\\\"complex-sample-nice-dag-wrapper\\\" ref={niceDagEl} />\\n      {render()}\\n    </div>\\n  );\\n}\\n\";","export default \"@import '../../styles/mixins';\\n@conector-size: 16px;\\n\\n.complex-sample {\\n  .ant-slider {\\n    min-width: 180px;\\n  }\\n  &-edge-label {\\n    text-align: center;\\n    margin-top: -20px;\\n  }\\n  &-start-node,\\n  &-end-node,\\n  &-joint-node {\\n    border: 1px solid black;\\n    border-radius: 50%;\\n    width: 30px;\\n    height: 30px;\\n    background: white;\\n  }\\n\\n  &-joint-node {\\n    font-size: 18px;\\n    display: flex;\\n    align-content: center;\\n    justify-content: center;\\n    align-items: center;\\n  }\\n\\n  &-end-node::before {\\n    content: '';\\n    position: absolute;\\n    border: 1px solid black;\\n    border-radius: 50%;\\n    background: black;\\n    top: 5px;\\n    left: 5px;\\n    width: 20px;\\n    height: 20px;\\n  }\\n\\n  &-connector {\\n    &-in,\\n    &-out {\\n      width: @conector-size;\\n      height: @conector-size;\\n      border: 1px solid black;\\n      border-radius: 50%;\\n      position: absolute;\\n      margin: auto;\\n      top: 0;\\n      bottom: 0;\\n      background: white;\\n    }\\n\\n    &-in {\\n      left: @conector-size / -2;\\n    }\\n    &-out {\\n      right: @conector-size / -2;\\n    }\\n  }\\n\\n  &-node {\\n    width: 100%;\\n    height: 100%;\\n    &-group-content,\\n    &-content {\\n      position: relative;\\n      width: 100%;\\n      height: 100%;\\n      border: 1px solid #8799c1;\\n      border-radius: 10px;\\n      display: flex;\\n      flex-direction: column;\\n    }\\n    &-group-content {\\n      padding: 4px 20px;\\n      > div {\\n        height: 30px;\\n\\n        a {\\n          margin-left: 6px;\\n          font-size: 16px;\\n        }\\n      }\\n    }\\n    &-content {\\n      align-items: center;\\n      justify-content: center;\\n    }\\n  }\\n\\n  &-nice-dag-wrapper {\\n    height: 400px;\\n  }\\n}\";","export default \"export const ComplexFlattenModel = [\\n    {\\n        id: 'start',\\n    },\\n    {\\n        id: 'parent',\\n        dependencies: ['start'],\\n        data: {\\n            label: 'Parent',\\n        },\\n    },\\n    {\\n        id: 'child-1',\\n        data: {\\n            label: 'Child-1',\\n        },\\n        parentId: 'parent'\\n    },\\n    {\\n        id: 'child-2',\\n        dependencies: ['child-1'],\\n        data: {\\n            label: 'Child-2',\\n        },\\n        parentId: 'parent'\\n    },\\n    {\\n        id: 'child-1-1',\\n        data: {\\n            label: 'Child-1-1',\\n        },\\n        parentId: 'child-1'\\n    },\\n    {\\n        id: 'end',\\n        dependencies: ['parent'],\\n    },\\n];\";","export var ViewModelChangeEventType;\n\n(function (ViewModelChangeEventType) {\n  ViewModelChangeEventType[\"REMOVE_SUB_VIEW\"] = \"REMOVE_SUB_VIEW\";\n  ViewModelChangeEventType[\"ADD_SUB_VIEW\"] = \"ADD_SUB_VIEW\";\n  ViewModelChangeEventType[\"RESIZE\"] = \"RESIZE\";\n  ViewModelChangeEventType[\"ADD_NODE\"] = \"ADD_NODE\";\n  ViewModelChangeEventType[\"REMOVE_NODE\"] = \"REMOVE_NODE\";\n  ViewModelChangeEventType[\"ADD_EDGE\"] = \"ADD_EDGE\";\n  ViewModelChangeEventType[\"REMOVE_EDGE\"] = \"REMOVE_EDGE\";\n})(ViewModelChangeEventType || (ViewModelChangeEventType = {}));\n\nexport var ViewNodeChangeEventType;\n\n(function (ViewNodeChangeEventType) {\n  ViewNodeChangeEventType[\"SHRINK_NODE\"] = \"SHRINK_NODE\";\n  ViewNodeChangeEventType[\"EXPAND_NODE\"] = \"EXPAND_NODE\";\n  ViewNodeChangeEventType[\"POSITION_CHANGE\"] = \"POSITION_CHANGE\";\n  ViewNodeChangeEventType[\"RESIZE\"] = \"RESIZE\";\n  ViewNodeChangeEventType[\"REMOVED\"] = \"REMOVED\";\n  ViewNodeChangeEventType[\"ADD_CHILD_NODE\"] = \"ADD_CHILD_NODE\";\n})(ViewNodeChangeEventType || (ViewNodeChangeEventType = {}));\n\nexport var NiceDagDirection;\n\n(function (NiceDagDirection) {\n  NiceDagDirection[\"LR\"] = \"LR\";\n  NiceDagDirection[\"RL\"] = \"RL\";\n  NiceDagDirection[\"TB\"] = \"TB\";\n  NiceDagDirection[\"BT\"] = \"BT\";\n})(NiceDagDirection || (NiceDagDirection = {}));\n\nexport var EdgeConnectorType;\n\n(function (EdgeConnectorType) {\n  EdgeConnectorType[\"CENTER_OF_BORDER\"] = \"CENTER_OF_BORDER\";\n  EdgeConnectorType[\"CENTER\"] = \"CENTER\";\n})(EdgeConnectorType || (EdgeConnectorType = {}));\n\nexport var NiceDagModelType;\n\n(function (NiceDagModelType) {\n  NiceDagModelType[\"HIERARCHY\"] = \"HIERARCHY\";\n  NiceDagModelType[\"FLATTEN\"] = \"FLATTEN\";\n})(NiceDagModelType || (NiceDagModelType = {}));\n\nexport var NiceDagMode;\n\n(function (NiceDagMode) {\n  NiceDagMode[\"DEFAULT\"] = \"DEFAULT\";\n  NiceDagMode[\"WITH_JOINT_NODES\"] = \"WITH_JOINT_NODES\";\n})(NiceDagMode || (NiceDagMode = {}));","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport { NiceDagDirection } from \"./types\";\nexport function findStartNodes(nodes) {\n  if (nodes === void 0) {\n    nodes = [];\n  }\n\n  return nodes.filter(function (node) {\n    return isEmpty(node.dependencies);\n  });\n}\nexport function findEndNodes(nodes) {\n  if (nodes === void 0) {\n    nodes = [];\n  }\n\n  var dependencies = [];\n  nodes.forEach(function (node) {\n    dependencies = __spreadArray(__spreadArray([], dependencies, true), node.dependencies || [], true);\n  });\n  var dependencySet = new Set(dependencies);\n  return nodes.filter(function (node) {\n    return !dependencySet.has(node.id);\n  });\n}\nexport function getInnerSize(element) {\n  var computedStyle = getComputedStyle(element);\n  var height = element.clientHeight - parseFloat(computedStyle.paddingTop) - parseFloat(computedStyle.paddingBottom);\n  var width = element.clientWidth - parseFloat(computedStyle.paddingLeft) - parseFloat(computedStyle.paddingRight);\n  return {\n    height: height,\n    width: width\n  };\n}\n\nvar EditableElement =\n/** @class */\nfunction () {\n  function EditableElement(elm, exists) {\n    if (exists === void 0) {\n      exists = false;\n    }\n\n    var _this = this;\n\n    this.withStyle = function (style) {\n      var keys = Object.keys(style);\n      keys.forEach(function (key) {\n        _this.pElement.style[key] = style[key];\n      });\n      return _this;\n    };\n\n    this.withAttributes = function (attr) {\n      var keys = Object.keys(attr);\n      keys.forEach(function (key) {\n        _this.pElement.setAttribute(key, attr[key]);\n      });\n      return _this;\n    };\n\n    this.withAbsolutePoint = function (point) {\n      _this.pElement.style.position = \"absolute\";\n      _this.pElement.style.top = \"\".concat(point.y, \"px\");\n      _this.pElement.style.left = \"\".concat(point.x, \"px\");\n      return _this;\n    };\n\n    this.withAbsolutePosition = function (bounds) {\n      _this.pElement.style.position = \"absolute\";\n      _this.pElement.style.top = \"\".concat(bounds.y, \"px\");\n      _this.pElement.style.left = \"\".concat(bounds.x, \"px\");\n      _this.pElement.style.width = \"\".concat(bounds.width, \"px\");\n      _this.pElement.style.height = \"\".concat(bounds.height, \"px\");\n      return _this;\n    };\n\n    this.withSize = function (size) {\n      _this.pElement.style.width = \"\".concat(size.width, \"px\");\n      _this.pElement.style.height = \"\".concat(size.height, \"px\");\n      return _this;\n    };\n\n    this.withWidth = function (width) {\n      _this.pElement.style.width = \"\".concat(width, \"px\");\n      return _this;\n    };\n\n    this.withHeight = function (height) {\n      _this.pElement.style.height = \"\".concat(height, \"px\");\n      return _this;\n    };\n\n    this.withClassNames = function () {\n      var classNames = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        classNames[_i] = arguments[_i];\n      }\n\n      classNames.forEach(function (className) {\n        _this.pElement.classList.add(className);\n      });\n      return _this;\n    };\n\n    this.pElement = elm;\n    this._exists = exists;\n  }\n\n  Object.defineProperty(EditableElement.prototype, \"alreadyExists\", {\n    get: function get() {\n      return this._exists;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(EditableElement.prototype, \"htmlElement\", {\n    get: function get() {\n      return this.pElement;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(EditableElement.prototype, \"svgElement\", {\n    get: function get() {\n      return this.pElement;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return EditableElement;\n}();\n\nexport function editHtmlElement(htmlElement) {\n  return new EditableElement(htmlElement);\n}\nexport function createElement(parentElement) {\n  var element = document.createElement(\"div\");\n\n  if (parentElement) {\n    parentElement.appendChild(element);\n  }\n\n  return new EditableElement(element);\n}\nexport function createElementIfAbsent(parentElement, className) {\n  var element = parentElement.querySelector(\".\".concat(className));\n  var alreadyExists = !!element;\n\n  if (!element) {\n    element = document.createElement(\"div\");\n    element.classList.add(className);\n    parentElement.appendChild(element);\n  }\n\n  return new EditableElement(element, alreadyExists);\n}\nexport function createSvgElement(svg, name) {\n  var svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", name);\n\n  if (svg) {\n    svg.appendChild(svgElement);\n  }\n\n  return new EditableElement(svgElement);\n}\nexport function createSvgIfAbsent(parentElement, selector, markerId) {\n  if (selector === void 0) {\n    selector = \":scope>svg\";\n  }\n\n  if (markerId === void 0) {\n    markerId = \"nice-dag-svg-arrow\";\n  }\n\n  var svgElement = selector ? parentElement.querySelector(selector) : null;\n\n  if (!svgElement) {\n    svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svgElement.style.overflow = \"hidden\";\n    /**\n     * Create arrow\n     */\n\n    var defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n    var marker = document.createElementNS(\"http://www.w3.org/2000/svg\", \"marker\");\n    var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    marker.setAttribute(\"id\", markerId);\n    marker.setAttribute(\"markerUnits\", \"strokeWidth\");\n    marker.setAttribute(\"markerWidth\", \"12\");\n    marker.setAttribute(\"markerHeight\", \"12\");\n    marker.setAttribute(\"viewBox\", \"0 0 12 12\");\n    marker.setAttribute(\"refX\", \"6\");\n    marker.setAttribute(\"refY\", \"6\");\n    marker.setAttribute(\"orient\", \"auto\");\n    path.setAttribute(\"d\", \"M2,2 L10,6 L2,10 L6,6 L2,2\");\n    path.setAttribute(\"fill\", \"#000\");\n    marker.appendChild(path);\n    defs.appendChild(marker);\n    svgElement.appendChild(defs);\n    parentElement.appendChild(svgElement);\n  }\n\n  return new EditableElement(svgElement);\n}\nexport function isEmpty(arr) {\n  return !arr || arr.length === 0;\n}\nexport function getPaddingStyle(padding) {\n  if (padding === void 0) {\n    padding = {};\n  }\n\n  return {\n    paddintTop: padding.top || 0,\n    paddintLeft: padding.left || 0,\n    paddintRight: padding.right || 0,\n    paddintBottom: padding.bottom || 0\n  };\n}\nexport function uuid() {\n  return Math.random().toString(16).slice(2);\n}\nexport function float2Int(v) {\n  return parseInt(\"\".concat(Math.round(v + Number.EPSILON)));\n}\nexport function resetBoundsWithRatio(bounds, ratio) {\n  return ratio === 1 || !ratio ? bounds : {\n    x: float2Int(bounds.x / ratio),\n    y: float2Int(bounds.y / ratio),\n    top: float2Int(bounds.top / ratio),\n    left: float2Int(bounds.left / ratio),\n    width: float2Int(bounds.width / ratio),\n    height: float2Int(bounds.height / ratio),\n    bottom: float2Int(bounds.bottom / ratio),\n    right: float2Int(bounds.right / ratio)\n  };\n}\nexport function htmlElementBounds(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.x,\n    y: rect.y,\n    top: rect.top,\n    left: rect.left,\n    bottom: rect.bottom,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\nexport function withDefaultValues(target, defaultValues) {\n  var values = __assign({}, target);\n\n  var keys = Object.keys(defaultValues || {});\n  keys.forEach(function (key) {\n    return values[key] = values[key] || defaultValues[key];\n  });\n  return values;\n}\nexport function calcAngle(opposite, adjacent) {\n  return Math.atan(opposite / adjacent) * 180 / Math.PI;\n}\nexport function flattenToHirerarchy(nodes) {\n  if (!nodes || nodes.length === 0) {\n    return [];\n  }\n\n  var nodeCopy = nodes.map(function (node) {\n    return __assign(__assign({}, node), {\n      children: []\n    });\n  });\n  var nodeMap = {};\n  nodeCopy.forEach(function (node) {\n    nodeMap[node.id] = node;\n  });\n  nodeCopy.forEach(function (node) {\n    if (node.parentId) {\n      var parentNode = nodeMap[node.parentId];\n      parentNode.children.push(node);\n    }\n  });\n  nodeCopy.forEach(function (node) {\n    if (node.children.length === 0) {\n      delete node.children;\n    }\n  });\n  var hirerarchyNodes = nodeCopy.filter(function (node) {\n    return !node.parentId;\n  });\n  return hirerarchyNodes;\n}\nexport function getDirection(graphLabel) {\n  return NiceDagDirection[graphLabel.rankdir || \"LR\"];\n}","var NICE_DAG_NODE_CLS = 'nice-dag-node';\nvar NICE_DAG_EDGE_CLS = 'nice-dag-edge';\nvar NICE_DAG_BACKGROUND_CLS = 'nice-dag-background';\nvar NODE_ID_ATTR = 'data-node-id-key';\nvar SVG_BKG_ARROW_ID = 'nice-dag-svg-bkg-arrow';\nvar SVG_BKG_CLS = 'nice-dag-svg-background';\nvar SVG_DND_ARROW_ID = 'nice-dag-svg-dnd-arrow';\nvar SVG_DND_CLS = 'nice-dag-svg-dnd';\nvar EDITOR_BKG_CLS = 'nice-dag-editor-bkg';\nvar ZERO_BOUNDS = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0\n};\nexport { SVG_BKG_CLS, SVG_DND_CLS, NICE_DAG_NODE_CLS, NODE_ID_ATTR, ZERO_BOUNDS, NICE_DAG_EDGE_CLS, NICE_DAG_BACKGROUND_CLS, SVG_BKG_ARROW_ID, SVG_DND_ARROW_ID, EDITOR_BKG_CLS };","import { ViewNodeChangeEventType } from \"./types\";\nimport * as utils from './utils';\nimport { NODE_ID_ATTR, NICE_DAG_NODE_CLS } from './constants';\n\nvar ViewNode =\n/** @class */\nfunction () {\n  function ViewNode(node, joint, model, edgeConnectorType) {\n    var _a;\n\n    var _this = this;\n\n    this.listeners = [];\n\n    this.addNodeChangeListener = function (listener) {\n      if (!_this.listeners.some(function (l) {\n        return l === listener;\n      })) {\n        _this.listeners.push(listener);\n      }\n    };\n\n    this.removeNodeChangeListener = function (listener) {\n      _this.listeners = _this.listeners.filter(function (l) {\n        return l !== listener;\n      });\n    };\n\n    this.fireNodeChange = function (e) {\n      _this.listeners.forEach(function (listener) {\n        listener.onNodeChange(e);\n      });\n    };\n\n    this.model = model;\n    this.id = node.id;\n    this.joint = joint;\n    this.data = node.data;\n    this.parentId = node.parentId;\n    this.children = node.children;\n    this.dependencies = node.dependencies || [];\n    this.edgeConnectorType = edgeConnectorType;\n    this.ref = utils.createElement().withClassNames(NICE_DAG_NODE_CLS).withAttributes((_a = {}, _a[\"\".concat(NODE_ID_ATTR)] = node.id, _a)).htmlElement;\n  }\n\n  ViewNode.prototype.resize = function (size) {\n    this.width = size.width;\n    this.height = size.height;\n    this.doLayout();\n    this.fireNodeChange({\n      type: ViewNodeChangeEventType.RESIZE,\n      node: this\n    });\n  };\n\n  ViewNode.prototype.addChildNode = function (node, point) {\n    var isCollapsed = this.collapse || !this.children || this.children.length === 0;\n\n    if (!this.children) {\n      this.children = [];\n    }\n\n    this.children.push(node);\n    this.fireNodeChange({\n      type: ViewNodeChangeEventType.ADD_CHILD_NODE,\n      node: this,\n      data: {\n        point: point,\n        isCollapsed: isCollapsed,\n        sourceNode: node\n      }\n    });\n  };\n\n  ViewNode.prototype.removeDependency = function (node) {\n    var exists = this.dependencies.some(function (dependency) {\n      return dependency === node.id;\n    });\n    this.dependencies = this.dependencies.filter(function (dependency) {\n      return dependency !== node.id;\n    });\n    return exists;\n  };\n\n  ViewNode.prototype.connect = function (node) {\n    var _this = this;\n\n    if (!(node === null || node === void 0 ? void 0 : node.dependencies.some(function (dependency) {\n      return dependency === _this.id;\n    }))) {\n      if (!node.dependencies) {\n        node.dependencies = [];\n      }\n\n      node.dependencies.push(this.id);\n      debugger;\n      this.model.addEdge(this, node);\n    }\n  };\n\n  ViewNode.prototype.doLayout = function () {\n    utils.editHtmlElement(this.ref).withAbsolutePosition({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    });\n  };\n\n  ViewNode.prototype.setPoint = function (point, fireNodeChange) {\n    if (fireNodeChange === void 0) {\n      fireNodeChange = true;\n    }\n\n    this.x = point.x;\n    this.y = point.y;\n\n    if (this.ref) {\n      this.ref.style.left = \"\".concat(this.x, \"px\");\n      this.ref.style.top = \"\".concat(this.y, \"px\");\n    }\n\n    if (fireNodeChange) {\n      this.fireNodeChange({\n        type: ViewNodeChangeEventType.POSITION_CHANGE,\n        node: this\n      });\n    }\n  };\n\n  ViewNode.prototype.setBounds = function (bounds, fireChangeEvent) {\n    this.x = bounds.x;\n    this.y = bounds.y;\n    this.width = bounds.width;\n    this.height = bounds.height;\n\n    if (this.ref) {\n      //todo: yufei, check if equals\n      this.ref.style.left = \"\".concat(this.x, \"px\");\n      this.ref.style.top = \"\".concat(this.y, \"px\");\n      this.ref.style.width = \"\".concat(this.width, \"px\");\n      this.ref.style.height = \"\".concat(this.height, \"px\");\n    }\n\n    if (fireChangeEvent) {\n      this.fireNodeChange({\n        type: ViewNodeChangeEventType.POSITION_CHANGE,\n        node: this\n      });\n    }\n  };\n\n  ViewNode.prototype.shrink = function () {\n    this.collapse = true;\n    this.fireNodeChange({\n      type: ViewNodeChangeEventType.SHRINK_NODE,\n      node: this\n    });\n  };\n\n  ViewNode.prototype.expand = function () {\n    this.collapse = false;\n    this.fireNodeChange({\n      type: ViewNodeChangeEventType.EXPAND_NODE,\n      node: this\n    });\n  };\n\n  ViewNode.prototype.withChildren = function (promise, useCache) {\n    var _this = this;\n\n    if (useCache === void 0) {\n      useCache = true;\n    }\n\n    if (this.children && useCache) {\n      this.expand();\n    } else {\n      promise.then(function (res) {\n        _this.children = res;\n\n        _this.expand();\n      });\n    }\n  };\n\n  ViewNode.prototype.refresh = function () {};\n\n  ViewNode.prototype.remove = function () {\n    var _a;\n\n    (_a = this.ref) === null || _a === void 0 ? void 0 : _a.remove();\n    this.fireNodeChange({\n      type: ViewNodeChangeEventType.REMOVED,\n      node: this\n    });\n    this.destory();\n  };\n\n  ViewNode.prototype.destory = function () {\n    this.listeners = [];\n    this.ref = null;\n  };\n\n  return ViewNode;\n}();\n\nexport default ViewNode;","var NiceDag = {};\nexport function use(id) {\n  return NiceDag[id];\n}\nexport function set(id, niceDag) {\n  NiceDag[id] = niceDag;\n}","import { ViewNodeChangeEventType, NiceDagDirection } from './types';\nimport * as utils from './utils';\nimport { NICE_DAG_EDGE_CLS, ZERO_BOUNDS } from './constants';\nimport * as niceDagHolder from './niceDagHolder';\nimport { getDirection } from './utils';\nvar EDGE_ELEMENT_HEIGHT = 12;\n\nvar Edge =\n/** @class */\nfunction () {\n  function Edge(source, target) {\n    this.source = source;\n    this.target = target;\n    this.pathRef = utils.createSvgElement(null, 'path').withAttributes({\n      'data-source-key': source.id,\n      'data-target-key': target.id\n    }).svgElement;\n    this.ref = utils.createElement().withClassNames(NICE_DAG_EDGE_CLS).withAbsolutePosition(ZERO_BOUNDS).htmlElement;\n    this.source.addNodeChangeListener(this);\n    this.target.addNodeChangeListener(this);\n  }\n\n  Edge.prototype.destory = function () {\n    this.source = null;\n    this.target = null;\n    this.pathRef = null;\n    this.ref = null;\n  };\n\n  Edge.prototype.onNodeChange = function (event) {\n    if (event.type === ViewNodeChangeEventType.POSITION_CHANGE || event.type === ViewNodeChangeEventType.RESIZE || event.type === ViewNodeChangeEventType.EXPAND_NODE || event.type === ViewNodeChangeEventType.SHRINK_NODE) {\n      this.doLayout();\n    } else if (event.type === ViewNodeChangeEventType.REMOVED) {\n      if (event.node === this.source) {\n        this.target.removeDependency(this.source);\n      }\n\n      this.ref.remove();\n      this.pathRef.remove();\n    }\n  };\n\n  Edge.prototype.insertNodes = function (nodes, offset) {\n    var _this = this;\n\n    if (offset === void 0) {\n      offset = 40;\n    }\n\n    var startPosition = this.getInsertNodesStartPosition(nodes, offset);\n    this.remove();\n    var newViewNodes = this.target.model.addNodes(nodes, startPosition, offset);\n    newViewNodes.forEach(function (newViewNode) {\n      _this.source.connect(newViewNode);\n\n      newViewNode.connect(_this.target);\n    });\n    this.destory();\n  };\n\n  Edge.prototype.getInsertNodesStartPosition = function (nodes, offset) {\n    var _a = niceDagHolder.use(this.source.model.dagId).config,\n        graphLabel = _a.graphLabel,\n        getNodeSize = _a.getNodeSize,\n        mapEdgeToPoints = _a.mapEdgeToPoints;\n\n    var _b = mapEdgeToPoints(this),\n        source = _b.source,\n        target = _b.target;\n\n    var midX = (source.x + target.x) / 2;\n    var midY = (source.y + target.y) / 2;\n    var width = 0;\n    var height = 0;\n    var maxWidth = 0;\n    var maxHeight = 0;\n    var direction = getDirection(graphLabel);\n    nodes.forEach(function (node) {\n      var nodeSize = getNodeSize(node);\n\n      if (direction === NiceDagDirection.LR || direction === NiceDagDirection.RL) {\n        height += nodeSize.height + offset;\n      } else {\n        width += nodeSize.width + offset;\n      }\n\n      maxWidth = Math.max(width, nodeSize.width);\n      maxHeight = Math.max(height, nodeSize.height);\n    });\n    height -= offset;\n    width -= offset;\n\n    if (direction === NiceDagDirection.LR || direction === NiceDagDirection.RL) {\n      return {\n        x: midX - maxWidth / 2,\n        y: midY - height / 2\n      };\n    }\n\n    return {\n      x: midX - width / 2,\n      y: midY - maxHeight / 2\n    };\n  };\n\n  Edge.prototype.remove = function () {\n    this.target.removeDependency(this.source);\n    this.target.model.removeEdge(this);\n    this.target.removeNodeChangeListener(this);\n    this.source.removeNodeChangeListener(this);\n    this.pathRef.remove();\n    this.ref.remove();\n  };\n\n  Edge.prototype.doLayout = function () {\n    var mapEdgeToPoints = niceDagHolder.use(this.source.model.dagId).config.mapEdgeToPoints;\n\n    var _a = mapEdgeToPoints(this),\n        source = _a.source,\n        target = _a.target;\n\n    var midX = (source.x + target.x) / 2;\n    var midY = (source.y + target.y) / 2;\n    var path = \"M\".concat(source.x, \",\").concat(source.y, \" L\").concat(midX, \",\").concat(midY, \" L\").concat(target.x, \",\").concat(target.y);\n    utils.editHtmlElement(this.pathRef).withAttributes({\n      'd': path\n    });\n    var distance = Math.sqrt((target.x - source.x) * (target.x - source.x) + (target.y - source.y) * (target.y - source.y));\n    var rotateStyle = \"rotate(\".concat(utils.calcAngle(target.y - source.y, target.x - source.x), \"deg)\");\n    utils.editHtmlElement(this.ref).withAbsolutePosition({\n      x: midX - distance / 2,\n      y: midY - EDGE_ELEMENT_HEIGHT / 2,\n      width: distance,\n      height: EDGE_ELEMENT_HEIGHT\n    }).withStyle({\n      'webkitTransform': rotateStyle,\n      'mozTransform': rotateStyle,\n      'msTransform': rotateStyle,\n      'oTransform': rotateStyle,\n      'transform': rotateStyle\n    });\n  };\n\n  return Edge;\n}();\n\nexport default Edge;","var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport { NiceDagMode, ViewModelChangeEventType, ViewNodeChangeEventType } from './types';\nimport * as utils from './utils';\nimport ViewNode from './ViewNode';\nimport Edge from './Edge';\nimport dagre from 'dagre';\nimport * as niceDagHolder from './niceDagHolder';\n\nfunction buildDagre(vNodes, graphlabel) {\n  var g = new dagre.graphlib.Graph();\n  g.setGraph(graphlabel);\n  g.setDefaultEdgeLabel(function () {\n    return {};\n  });\n  var nodeMap = {};\n\n  for (var i = 0; i < vNodes.length; i++) {\n    var node = vNodes[i];\n    g.setNode(\"\".concat(i), {\n      width: node.width,\n      height: node.height\n    });\n    nodeMap[node.id] = i;\n  }\n\n  vNodes.forEach(function (node) {\n    if (node.dependencies && !utils.isEmpty(node.dependencies)) {\n      node.dependencies.filter(Boolean).forEach(function (depNodeId) {\n        g.setEdge(nodeMap[depNodeId], nodeMap[node.id]);\n      });\n    }\n  });\n  dagre.layout(g);\n  return g;\n}\n\nvar ViewModel =\n/** @class */\nfunction () {\n  function ViewModel(_a) {\n    var dagId = _a.dagId,\n        id = _a.id,\n        nodes = _a.nodes,\n        vmConfig = _a.vmConfig,\n        isRootModel = _a.isRootModel;\n\n    var _this = this;\n\n    this.listeners = [];\n    /**\n     * Watch nodes change\n     * @param event\n     */\n\n    this.onNodeChange = function (event) {\n      if (event.type === ViewNodeChangeEventType.EXPAND_NODE) {\n        _this.setNodeCollapse(event.node, false);\n      } else if (event.type === ViewNodeChangeEventType.SHRINK_NODE) {\n        _this.setNodeCollapse(event.node, true);\n      } else if (event.type === ViewNodeChangeEventType.ADD_CHILD_NODE) {\n        var _a = event.data,\n            isCollapsed = _a.isCollapsed,\n            point = _a.point,\n            sourceNode = _a.sourceNode;\n\n        _this.fireModelChange({\n          source: _this,\n          originalSource: event.node,\n          type: ViewModelChangeEventType.ADD_NODE\n        });\n\n        if (isCollapsed) {\n          _this.setNodeCollapse(event.node, false);\n        } else {\n          var childVm = _this.pChildVMs.find(function (vm) {\n            return vm.id === event.node.id;\n          });\n\n          childVm.addNode(sourceNode, point);\n        }\n      } else if (event.type === ViewNodeChangeEventType.POSITION_CHANGE || event.type === ViewNodeChangeEventType.RESIZE) {\n        _this.doLayout(true, false);\n      } else if (event.type === ViewNodeChangeEventType.REMOVED) {\n        _this.pChildVMs = _this.pChildVMs.filter(function (childVm) {\n          return childVm.id !== event.node.id;\n        });\n        _this.vNodes = _this.vNodes.filter(function (vNode) {\n          return vNode.id !== event.node.id;\n        });\n        _this.pEdges = _this.pEdges.filter(function (edge) {\n          return !(edge.source.id === event.node.id || edge.target.id === event.node.id);\n        });\n\n        _this.fireModelChange({\n          source: _this,\n          originalSource: event.node,\n          type: ViewModelChangeEventType.REMOVE_NODE\n        });\n      }\n    };\n\n    this.addModelChangeListener = function (listener) {\n      if (!_this.listeners.some(function (l) {\n        return l === listener;\n      })) {\n        _this.listeners.push(listener);\n      }\n    };\n\n    this.removeNodeChangeListener = function (listener) {\n      _this.listeners = _this.listeners.filter(function (l) {\n        return l === listener;\n      });\n    };\n\n    this.isSubViewNode = function (id) {\n      var _a;\n\n      return !utils.isEmpty((_a = _this.pChildVMs) === null || _a === void 0 ? void 0 : _a.filter(function (vm) {\n        return vm.id === id;\n      }));\n    };\n\n    this.findNodeById = function (id) {\n      var vNode = _this.vNodes.find(function (node) {\n        return node.id === id;\n      });\n\n      if (!vNode && !utils.isEmpty(_this.pChildVMs)) {\n        for (var i = 0; i < _this.pChildVMs.length; i++) {\n          vNode = _this.pChildVMs[i].findNodeById(id);\n\n          if (vNode) {\n            break;\n          }\n        }\n      }\n\n      return vNode;\n    };\n\n    this.init = function (_nodes) {\n      _this.buildVNodes(_nodes);\n\n      _this.buildEdges();\n\n      _this.doLayout(false, false);\n    };\n\n    this.setNodeCollapse = function (vNode, collapse) {\n      var size;\n      var getNodeSize = niceDagHolder.use(_this.dagId).config.getNodeSize;\n\n      if (collapse) {\n        _this.pChildVMs = _this.pChildVMs.filter(function (vm) {\n          return vm.id !== vNode.id;\n        });\n        size = getNodeSize(vNode);\n      } else {\n        var subViewModel_1 = _this.createChildVm(vNode, vNode.children);\n\n        _this.pChildVMs = __spreadArray(__spreadArray([], _this.pChildVMs.filter(function (vm) {\n          return vm.id !== subViewModel_1.id;\n        }), true), [subViewModel_1], false);\n        size = subViewModel_1.size();\n      } //todo: extra to a separated method due to lazy loading, yufei\n\n\n      vNode.width = size.width;\n      vNode.height = size.height;\n      var oldEditing = vNode.editing;\n      vNode.editing = false;\n\n      _this.doLayout(true, false);\n\n      vNode.editing = oldEditing; //notify view changes\n\n      _this.fireModelChange({\n        source: _this,\n        originalSource: vNode,\n        type: collapse ? ViewModelChangeEventType.REMOVE_SUB_VIEW : ViewModelChangeEventType.ADD_SUB_VIEW\n      });\n\n      niceDagHolder.use(_this._dagId).fireNiceDagChange();\n    };\n\n    this.fireModelChange = function (e) {\n      _this.listeners.forEach(function (listener) {\n        listener.onModelChange(e);\n      });\n    };\n\n    this.withJointNodes = function () {\n      var gateNodes = [];\n      /**\n       * Deep clone due to dependency list needs to change when gate nodes are added\n       */\n\n      var endNodes = utils.findEndNodes(_this.vNodes);\n      var gateIds = new Set();\n\n      _this.vNodes.forEach(function (node) {\n        var _a;\n\n        var isEndNode = endNodes.some(function (item) {\n          return item.id === node.id;\n        });\n\n        if (((_a = node.dependencies) === null || _a === void 0 ? void 0 : _a.length) > 1 && !isEndNode) {\n          var id = \"joint-\".concat(node.dependencies.join('-'));\n\n          if (!gateIds.has(id)) {\n            var jointViewNode = new ViewNode({\n              id: id,\n              dependencies: node.dependencies\n            }, true, _this, _this.vmConfig.jointEdgeConnectorType);\n            jointViewNode.addNodeChangeListener(_this);\n            gateNodes.push(jointViewNode);\n            gateIds.add(id);\n          }\n\n          node.dependencies = [id];\n        }\n      });\n\n      return __spreadArray(__spreadArray([], _this.vNodes, true), gateNodes, true);\n    };\n\n    this.buildVNodes = function (_nodes) {\n      _this.vNodes = _nodes.map(function (node) {\n        return _this.toViewNode(node);\n      });\n\n      if (_this.vmConfig.mode === NiceDagMode.WITH_JOINT_NODES) {\n        _this.vNodes = _this.withJointNodes();\n      }\n\n      _this.withNodeSize();\n    };\n\n    this.withNodeSize = function () {\n      //create children map for computing child VM size\n      var childrenMap = {};\n      var getNodeSize = niceDagHolder.use(_this.dagId).config.getNodeSize;\n\n      _this.pChildVMs.forEach(function (vm) {\n        return childrenMap[vm.id] = vm;\n      });\n\n      _this.vNodes.forEach(function (node) {\n        var nodeSize = childrenMap[node.id] && !node.collapse ? childrenMap[node.id].size() : getNodeSize(node);\n        node.width = nodeSize.width;\n        node.height = nodeSize.height;\n      });\n    };\n\n    this.resize = function (fireModelChange) {\n      var oldSize = _this.pSize;\n      var subViewPadding = _this.vmConfig.subViewPadding;\n      var maxRight = 0;\n      var maxBottom = 0;\n\n      _this.vNodes.forEach(function (vNode) {\n        maxRight = Math.max(vNode.x + vNode.width, maxRight);\n        maxBottom = Math.max(vNode.y + vNode.height, maxBottom);\n      });\n\n      if (!_this.isRoot) {\n        _this.pSize = {\n          width: maxRight + subViewPadding.left + subViewPadding.right,\n          height: maxBottom + subViewPadding.top + subViewPadding.bottom\n        };\n      } else {\n        //todo: enlarge the view if necessary\n        _this.pSize = {\n          width: maxRight,\n          height: maxBottom\n        };\n      }\n\n      if (fireModelChange) {\n        if (_this.pSize.width !== oldSize.width || _this.pSize.height !== oldSize.height) {\n          _this.fireModelChange({\n            source: _this,\n            type: ViewModelChangeEventType.RESIZE\n          });\n        }\n      }\n    };\n\n    this.doLayout = function (fireModelChange, cascade) {\n      if (cascade) {\n        _this.childVMs.forEach(function (childVM) {\n          childVM.doLayout(fireModelChange, cascade);\n\n          _this.vNodes.find(function (node) {\n            return node.id === childVM.id;\n          }).resize(childVM.size());\n        });\n      }\n\n      var dagre = buildDagre(_this.vNodes, niceDagHolder.use(_this.dagId).config.graphLabel);\n      /**\n       * Step 4. Set node position\n       */\n\n      var i = 0;\n\n      _this.vNodes.forEach(function (node) {\n        if (!node.editing) {\n          var dagreNode = dagre.node(String(i));\n          var width = node.width,\n              height = node.height;\n          var x = dagreNode.x - width / 2;\n          var y = dagreNode.y - height / 2;\n          node.x = x;\n          node.y = y;\n          node.doLayout();\n        }\n\n        i++;\n      });\n\n      _this.resize(fireModelChange);\n\n      _this.pEdges.forEach(function (edge) {\n        edge.doLayout();\n      });\n    };\n\n    this.buildEdges = function () {\n      _this.pEdges = [];\n      var nodeMap = {};\n\n      _this.vNodes.forEach(function (vNode) {\n        return nodeMap[vNode.id] = vNode;\n      });\n\n      _this.vNodes.forEach(function (vNode) {\n        if (!utils.isEmpty(vNode.dependencies)) {\n          vNode.dependencies.forEach(function (dependency) {\n            _this.pEdges.push(new Edge(nodeMap[dependency], vNode));\n          });\n        }\n      });\n    };\n\n    this.size = function (withPadding) {\n      if (withPadding === void 0) {\n        withPadding = true;\n      }\n\n      if (withPadding || _this.isRoot) {\n        return _this.pSize;\n      }\n\n      var padding = _this.vmConfig.subViewPadding;\n      return {\n        width: _this.pSize.width - padding.left - padding.right,\n        height: _this.pSize.height - padding.top - padding.bottom\n      };\n    };\n\n    var _nodes = nodes;\n    this._dagId = dagId;\n    this.pId = id;\n    this.vmConfig = vmConfig;\n    this.isRootModel = isRootModel;\n    this.pChildVMs = _nodes.filter(function (node) {\n      return !node.collapse && !utils.isEmpty(node.children);\n    }).map(function (node) {\n      return _this.createChildVm(node, node.children);\n    });\n    this.init(_nodes);\n  }\n\n  ViewModel.prototype.setRootOffset = function (_a) {\n    var offsetX = _a.offsetX,\n        offsetY = _a.offsetY;\n\n    if (this.isRoot) {\n      this.vNodes.forEach(function (node) {\n        node.x += offsetX;\n        node.y += offsetY;\n        node.doLayout();\n      });\n      this.pEdges.forEach(function (edge) {\n        edge.doLayout();\n      });\n    } else {\n      throw new Error(\"Sub model doesn't support the method.\");\n    }\n  };\n\n  ViewModel.prototype.addNodes = function (nodes, point, offset) {\n    var _this = this;\n\n    if (offset === void 0) {\n      offset = 40;\n    }\n\n    var _offsetY = 0;\n    var getNodeSize = niceDagHolder.use(this.dagId).config.getNodeSize;\n    return nodes.map(function (node) {\n      var nodeSize = getNodeSize(node);\n      var _point = {\n        x: point.x,\n        y: point.y + _offsetY\n      };\n      _offsetY += offset + nodeSize.height;\n      return _this.addNode(node, _point);\n    });\n  };\n\n  ViewModel.prototype.addNode = function (node, point, joint) {\n    var viewNode = this.toViewNode(node);\n    viewNode.editing = true;\n    viewNode.joint = joint;\n    var getNodeSize = niceDagHolder.use(this.dagId).config.getNodeSize;\n    this.vNodes.push(viewNode);\n    var nodeSize = getNodeSize(viewNode);\n    viewNode.width = nodeSize.width;\n    viewNode.height = nodeSize.height;\n    viewNode.x = point.x;\n    viewNode.y = point.y;\n    this.fireModelChange({\n      source: this,\n      originalSource: viewNode,\n      type: ViewModelChangeEventType.ADD_NODE\n    });\n\n    if (!node.collapse && !utils.isEmpty(node.children)) {\n      viewNode.expand();\n    } else {\n      viewNode.fireNodeChange({\n        type: ViewNodeChangeEventType.POSITION_CHANGE,\n        node: viewNode\n      });\n      niceDagHolder.use(this._dagId).fireNiceDagChange();\n    }\n\n    return viewNode;\n  };\n\n  ViewModel.prototype.destory = function () {\n    this.vNodes.forEach(function (vNode) {\n      return vNode.destory();\n    });\n    this.pEdges.forEach(function (pEdge) {\n      return pEdge.destory();\n    });\n    this.pChildVMs.forEach(function (childVm) {\n      return childVm.destory();\n    });\n    this.listeners = [];\n  };\n\n  ViewModel.prototype.removeEdge = function (edge) {\n    if (this.pEdges.some(function (pEdge) {\n      return pEdge === edge;\n    })) {\n      this.pEdges = this.pEdges.filter(function (pEdge) {\n        return pEdge !== edge;\n      });\n      niceDagHolder.use(this._dagId).fireNiceDagChange();\n      return true;\n    }\n\n    return false;\n  };\n\n  ViewModel.prototype.refreshJointNodes = function () {\n    var _this = this;\n\n    if (this.vmConfig.mode === NiceDagMode.WITH_JOINT_NODES) {\n      var toDeleteJointNodes = this.vNodes.filter(function (vNode) {\n        return vNode.joint && vNode.dependencies.length === 1;\n      });\n      var jointNodeIds_1 = new Set(toDeleteJointNodes.map(function (vNode) {\n        return vNode.id;\n      }));\n      var targetOfJointNodes_1 = this.vNodes.filter(function (vNode) {\n        return vNode.dependencies.some(function (nodeId) {\n          return jointNodeIds_1.has(nodeId);\n        });\n      });\n      toDeleteJointNodes.forEach(function (jointNode) {\n        /**\n         * To delete joint nodes only have one dependency\n         */\n        var dependencies = jointNode.dependencies;\n\n        var source = _this.findNodeById(dependencies[0]);\n\n        var targetNodes = targetOfJointNodes_1.filter(function (targetOfJointNode) {\n          return targetOfJointNode.dependencies.some(function (depId) {\n            return depId === jointNode.id;\n          });\n        });\n        targetNodes.forEach(function (targetNode) {\n          targetNode.dependencies.push(source.id);\n\n          _this.createEdgeAndFireModelChange(source, targetNode);\n        });\n      });\n      toDeleteJointNodes.forEach(function (toDeleteJointNode) {\n        toDeleteJointNode.remove();\n      });\n    }\n  };\n\n  ViewModel.prototype.createEdgeAndFireModelChange = function (source, target) {\n    var newEdge = new Edge(source, target);\n    this.pEdges.push(newEdge);\n    this.fireModelChange({\n      source: this,\n      originalSource: newEdge,\n      type: ViewModelChangeEventType.ADD_EDGE\n    });\n    newEdge.doLayout();\n    return newEdge;\n  };\n\n  ViewModel.prototype.findPrecedentedNodes = function (node) {\n    var _this = this;\n\n    return this.pEdges.filter(function (edge) {\n      return edge.target.id === node.id;\n    }).map(function (edge) {\n      return _this.findNodeById(edge.source.id);\n    });\n  }; // createJointNodeIfAbsent(source: IViewNode, target: IViewNode): IViewNode {\n  //     const precendentedNodes = this.findPrecedentedNodes(target);\n  //     let jointNode = precendentedNodes.find(node => node.joint);\n  //     if (!jointNode) {\n  //         const id = `joint-${target.dependencies.join('-')}`;\n  //         const node: Node = {\n  //             id,\n  //             dependencies: [...target.dependencies],\n  //         };\n  //         const vNode = new ViewNode(node, true, this, this.vmConfig.jointEdgeConnectorType);\n  //         const jointNodePoint = spaceUtils.getCenter([source, ...precendentedNodes],\n  //             target, niceDagHolder.use(this._dagId).config.graphLabel);\n  //         const { getNodeSize } = niceDagHolder.use(this.dagId).config;\n  //         const nodeSize = getNodeSize(vNode);\n  //         jointNode = this.addNode(vNode,\n  //             {\n  //                 x: jointNodePoint.x - nodeSize.width / 2,\n  //                 y: jointNodePoint.y - nodeSize.height / 2\n  //             }, true);\n  //         target.dependencies = [jointNode.id];\n  //         const targetEdge = this.createEdgeAndFireModelChange(jointNode, target);\n  //         targetEdge.doLayout();\n  //     }\n  //     return jointNode;\n  // }\n\n\n  ViewModel.prototype.addEdge = function (source, target) {\n    // const endNodes = utils.findEndNodes(this.vNodes);\n    // const isEndNode = endNodes.some(item => item.id === target.id);\n    // if (this.vmConfig.mode === NiceDagMode.WITH_JOINT_NODES && !target.joint && target.dependencies?.length > 1 && !isEndNode) {\n    //     /**\n    //      * target dependencies has already added source dependencies\n    //      */\n    //     const existingEdges = this.pEdges.filter(edge => edge.target.id === target.id && !edge.source.joint);\n    //     const jointNode = this.createJointNodeIfAbsent(source, target);\n    //     existingEdges.forEach(existingEdge => {\n    //         existingEdge.target = jointNode;\n    //         existingEdge.doLayout();\n    //     });\n    //     const sourceToJointEdge = this.createEdgeAndFireModelChange(source, jointNode);\n    //     niceDagHolder.use(this._dagId).fireNiceDagChange();\n    //     return sourceToJointEdge;\n    // } else {\n    var newEdge = this.createEdgeAndFireModelChange(source, target);\n    niceDagHolder.use(this._dagId).fireNiceDagChange();\n    return newEdge; // }\n  };\n  /**\n   * Watch sub child view model change\n   * @param event\n   */\n\n\n  ViewModel.prototype.onModelChange = function (event) {\n    /**\n     * Avoid event storm when do prettifier\n     */\n    if (event.source.id !== this.id) {\n      if (event.type === ViewModelChangeEventType.RESIZE) {\n        var vNode = this.vNodes.find(function (vNode) {\n          return vNode.id === event.source.id;\n        });\n        vNode.resize(event.source.size());\n      }\n    }\n  };\n\n  ViewModel.prototype.createChildVm = function (node, children) {\n    var childVm = new ViewModel({\n      dagId: this._dagId,\n      id: node.id,\n      nodes: children,\n      vmConfig: this.vmConfig\n    });\n    childVm.addModelChangeListener(this);\n    return childVm;\n  };\n\n  Object.defineProperty(ViewModel.prototype, \"isRoot\", {\n    get: function get() {\n      return this.isRootModel;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewModel.prototype.getAllNodes = function () {\n    var _a;\n\n    var allViewNodes = __spreadArray([], this.vNodes, true);\n\n    (_a = this.pChildVMs) === null || _a === void 0 ? void 0 : _a.forEach(function (vm) {\n      allViewNodes = __spreadArray(__spreadArray([], allViewNodes, true), vm.getAllNodes(), true);\n    });\n    return allViewNodes;\n  };\n\n  ViewModel.prototype.getAllEdges = function () {\n    var _a;\n\n    var allEdges = __spreadArray([], this.edges, true);\n\n    (_a = this.pChildVMs) === null || _a === void 0 ? void 0 : _a.forEach(function (vm) {\n      allEdges = __spreadArray(__spreadArray([], allEdges, true), vm.getAllEdges(), true);\n    });\n    return allEdges;\n  };\n\n  Object.defineProperty(ViewModel.prototype, \"dagId\", {\n    get: function get() {\n      return this._dagId;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewModel.prototype.toViewNode = function (node) {\n    var viewNode = new ViewNode(node, false, this, node.edgeConnectorType || this.vmConfig.edgeConnectorType);\n    viewNode.addNodeChangeListener(this);\n    return viewNode;\n  };\n\n  Object.defineProperty(ViewModel.prototype, \"subViewPadding\", {\n    get: function get() {\n      return this.vmConfig.subViewPadding;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewModel.prototype, \"id\", {\n    get: function get() {\n      return this.pId;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewModel.prototype.get = function () {\n    return this.pSize;\n  };\n\n  Object.defineProperty(ViewModel.prototype, \"childVMs\", {\n    get: function get() {\n      return this.pChildVMs;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewModel.prototype, \"nodes\", {\n    get: function get() {\n      return this.vNodes;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewModel.prototype, \"edges\", {\n    get: function get() {\n      return this.pEdges;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewModel;\n}();\n\nexport default ViewModel;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { EdgeConnectorType } from \"./types\";\nvar DEFAULT_GRAPH_LABEL = {\n  rankdir: 'LR',\n  ranksep: 60,\n  edgesep: 10\n};\nexport var DEFAULT_GRID_CONFIG = {\n  color: 'blue',\n  size: 40\n};\nexport var DEFAULT_SUBVIEW_PADDING = {\n  top: 40,\n  bottom: 20,\n  left: 20,\n  right: 20\n};\nexport var ZERO_PADDING = {\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0\n};\nexport var ZERO_PADDING_STYLE = {\n  paddingTop: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  paddingRight: 0\n};\nvar DEFAULT_EDGE_ATTRIBUTES = {\n  color: \"black\"\n};\n\nfunction getCenterPoints(node) {\n  return {\n    x: node.x + node.width / 2,\n    y: node.y + node.height / 2\n  };\n}\n\nexport var mapEdgeToPointsWithDir = {\n  LR: function LR(_a) {\n    var source = _a.source,\n        target = _a.target;\n    var sp = source.edgeConnectorType === EdgeConnectorType.CENTER ? getCenterPoints(source) : {\n      x: source.x + source.width,\n      y: source.y + source.height / 2\n    };\n    var tp = target.edgeConnectorType === EdgeConnectorType.CENTER ? getCenterPoints(target) : {\n      x: target.x,\n      y: target.y + target.height / 2\n    };\n    return {\n      source: sp,\n      target: tp\n    };\n  },\n  RL: function RL(_a) {\n    var source = _a.source,\n        target = _a.target;\n    var sp = source.edgeConnectorType === EdgeConnectorType.CENTER ? getCenterPoints(source) : {\n      x: source.x,\n      y: source.y + source.height / 2\n    };\n    var tp = target.edgeConnectorType === EdgeConnectorType.CENTER ? getCenterPoints(target) : {\n      x: target.x + target.width,\n      y: target.y + target.height / 2\n    };\n    return {\n      source: sp,\n      target: tp\n    };\n  },\n  BT: function BT(_a) {\n    var source = _a.source,\n        target = _a.target;\n    var sp = source.edgeConnectorType === EdgeConnectorType.CENTER ? getCenterPoints(source) : {\n      x: source.x + source.width / 2,\n      y: source.y\n    };\n    var tp = target.edgeConnectorType === EdgeConnectorType.CENTER ? getCenterPoints(target) : {\n      x: target.x + target.width / 2,\n      y: target.y + target.height\n    };\n    return {\n      source: sp,\n      target: tp\n    };\n  },\n  TB: function TB(_a) {\n    var source = _a.source,\n        target = _a.target;\n    var sp = source.edgeConnectorType === EdgeConnectorType.CENTER ? getCenterPoints(source) : {\n      x: source.x + source.width / 2,\n      y: source.y + source.height\n    };\n    var tp = target.edgeConnectorType === EdgeConnectorType.CENTER ? getCenterPoints(target) : {\n      x: target.x + target.width / 2,\n      y: target.y\n    };\n    return {\n      source: sp,\n      target: tp\n    };\n  }\n};\nexport function graphLabelWithDefaultValues(graphLabel) {\n  return graphLabel ? __assign(__assign({}, graphLabel), {\n    rankdir: graphLabel.rankdir || DEFAULT_GRAPH_LABEL.rankdir,\n    ranksep: graphLabel.ranksep || DEFAULT_GRAPH_LABEL.ranksep,\n    edgesep: graphLabel.edgesep || DEFAULT_GRAPH_LABEL.edgesep\n  }) : DEFAULT_GRAPH_LABEL;\n}\nexport function paddingWithDefaultValues(padding, defaultValues) {\n  if (defaultValues === void 0) {\n    defaultValues = ZERO_PADDING;\n  }\n\n  return {\n    top: (padding === null || padding === void 0 ? void 0 : padding.top) || defaultValues.top,\n    left: (padding === null || padding === void 0 ? void 0 : padding.left) || defaultValues.left,\n    bottom: (padding === null || padding === void 0 ? void 0 : padding.bottom) || defaultValues.bottom,\n    right: (padding === null || padding === void 0 ? void 0 : padding.right) || defaultValues.right\n  };\n}\nexport function getDefaultEdgesAttributes() {\n  return DEFAULT_EDGE_ATTRIBUTES;\n}","import html2canvas from \"html2canvas\";\nimport * as utils from './utils';\nvar GLASS_STYLE = {\n  position: 'fixed',\n  top: '0',\n  left: '0',\n  right: '0',\n  bottom: '0',\n  zIndex: '9999',\n  display: 'none',\n  'user-select': 'none',\n  cursor: 'pointer'\n};\nvar GLASS_NODE_CLS = 'minimap-dnd-glass';\n\nvar Minimap =\n/** @class */\nfunction () {\n  function Minimap(args) {\n    var _this = this;\n\n    this.listeners = [];\n\n    this.onCanvasReady = function (canvas) {\n      var _a = _this,\n          mainLayer = _a.mainLayer,\n          zoomLayer = _a.zoomLayer,\n          viewBoxElm = _a.viewBoxElm,\n          minimapContent = _a.minimapContent,\n          scale = _a.scale;\n      var scrollLeft = mainLayer.scrollLeft;\n      var scrollTop = mainLayer.scrollTop;\n      var viewBoxWidthRelativeScale = mainLayer.offsetWidth > zoomLayer.offsetWidth ? 1 : mainLayer.offsetWidth / zoomLayer.offsetWidth;\n      var viewBoxHeightRelativeScale = mainLayer.offsetHeight > zoomLayer.offsetHeight ? 1 : mainLayer.offsetHeight / zoomLayer.offsetHeight;\n      var viewBoxWidth = Math.ceil(canvas.width * viewBoxWidthRelativeScale);\n      var viewBoxHeight = Math.ceil(canvas.height * viewBoxHeightRelativeScale);\n      var viewBoxLeft = Math.ceil(scrollLeft * scale * viewBoxWidthRelativeScale);\n      var viewBoxTop = Math.ceil(scrollTop * scale * viewBoxHeightRelativeScale);\n      utils.editHtmlElement(viewBoxElm).withStyle({\n        border: '1px red solid',\n        position: 'absolute',\n        width: \"\".concat(viewBoxWidth, \"px\"),\n        height: \"\".concat(viewBoxHeight, \"px\"),\n        left: \"\".concat(viewBoxLeft, \"px\"),\n        top: \"\".concat(viewBoxTop, \"px\"),\n        cursor: 'pointer',\n        zIndex: 999,\n        display: 'block'\n      });\n      minimapContent.appendChild(viewBoxElm);\n      minimapContent.appendChild(canvas);\n    };\n\n    this.updateViewBoxPosition = function () {\n      var scrollLeft = _this.mainLayer.scrollLeft;\n      var scrollTop = _this.mainLayer.scrollTop;\n      var maxLeft = _this.canvas.width - _this.viewBoxElm.offsetWidth;\n      var maxTop = _this.canvas.height - _this.viewBoxElm.offsetHeight;\n      /**\n       * Calc Left\n       */\n\n      var left = _this.scale * scrollLeft;\n      left = Math.max(0, left);\n      left = Math.min(left, maxLeft);\n      /**\n       * Calc top\n       */\n\n      var top = _this.scale * scrollTop;\n      top = Math.max(0, top);\n      top = Math.min(top, maxTop);\n      utils.editHtmlElement(_this.viewBoxElm).withStyle({\n        left: \"\".concat(Math.ceil(left), \"px\"),\n        top: \"\".concat(Math.ceil(top), \"px\")\n      });\n    };\n\n    this.startViewBoxDragging = function (event) {\n      _this.initClientX = event.clientX;\n      _this.initClientY = event.clientY;\n      _this.viewBoxInitX = _this.viewBoxElm.offsetLeft;\n      _this.viewBoxInitY = _this.viewBoxElm.offsetTop;\n      utils.editHtmlElement(_this.dndGlass).withStyle({\n        display: 'block'\n      });\n    };\n\n    this.onViewBoxDragging = function (event) {\n      var deltaX = event.clientX - _this.initClientX;\n      var deltaY = event.clientY - _this.initClientY;\n      var maxLeft = _this.canvas.width - _this.viewBoxElm.offsetWidth / _this.viewBoxScale;\n      var maxTop = _this.canvas.height - _this.viewBoxElm.offsetHeight / _this.viewBoxScale;\n      var left = _this.viewBoxInitX + deltaX;\n      var top = _this.viewBoxInitY + deltaY;\n      left = Math.max(0, left);\n      left = Math.min(left, maxLeft);\n      top = Math.max(0, top);\n      top = Math.min(top, maxTop);\n      _this.viewBoxElm.style.left = \"\".concat(Math.ceil(left), \"px\");\n      _this.viewBoxElm.style.top = \"\".concat(Math.ceil(top), \"px\");\n\n      _this.listeners.forEach(function (listener) {\n        listener.onMinimapDragging({\n          scrollLeft: left / _this.scale,\n          scrollTop: top / _this.scale\n        });\n      });\n    };\n\n    this.onViewBoxDraggingEnd = function () {\n      utils.editHtmlElement(_this.dndGlass).withStyle({\n        display: 'none'\n      });\n    };\n\n    this.viewBoxScale = 1;\n    this.mainLayer = args.mainLayer;\n    this.zoomLayer = args.zoomLayer;\n    this.parentContainer = args.container;\n    this.viewBoxElm = this.createViewBoxElement(args === null || args === void 0 ? void 0 : args.viewBoxClassName);\n    this.canvas = document.createElement(\"canvas\");\n    this.contentContainer = utils.createElement(this.parentContainer).withStyle({\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n      'justify-content': 'center',\n      'place-content': 'center',\n      'align-content': 'center',\n      'flex-wrap': 'nowrap',\n      'flex-direction': 'column',\n      'align-items': 'center'\n    }).htmlElement;\n    this.minimapContent = this.createMinimapElement(args === null || args === void 0 ? void 0 : args.className);\n    var dndGlass = utils.createElementIfAbsent(this.mainLayer, GLASS_NODE_CLS).withStyle(GLASS_STYLE);\n    dndGlass.htmlElement.addEventListener('mousemove', this.onViewBoxDragging);\n    dndGlass.htmlElement.addEventListener('mouseup', this.onViewBoxDraggingEnd);\n    this.dndGlass = dndGlass.htmlElement;\n  }\n\n  Minimap.prototype.addMinimapListener = function (listener) {\n    this.listeners.push(listener);\n  };\n\n  Minimap.prototype.createMinimapElement = function (minimapClassname) {\n    var minimap = utils.createElement(this.contentContainer).withClassNames('nice-dag-minimap').withStyle({\n      position: 'relative'\n    }).htmlElement;\n\n    if (minimapClassname) {\n      minimap.classList.add(minimapClassname);\n    }\n\n    return minimap;\n  };\n\n  Minimap.prototype.createViewBoxElement = function (viewBoxClassname) {\n    var viewBoxElm = utils.createElement(this.contentContainer).withClassNames('nice-dag-minimap').withStyle({\n      position: 'relative'\n    }).htmlElement;\n    viewBoxElm.classList.add('nice-dag-minimap-viewbox');\n\n    if (viewBoxClassname) {\n      viewBoxElm.classList.add(viewBoxClassname);\n    }\n\n    viewBoxElm.addEventListener('mousedown', this.startViewBoxDragging);\n    return viewBoxElm;\n  };\n\n  Minimap.prototype.calcRatio = function () {\n    var parentSize = utils.getInnerSize(this.parentContainer);\n    var zoomLayer = this.zoomLayer;\n    var zoomLayerBounds = zoomLayer.getBoundingClientRect();\n    var widthHeightRatio = zoomLayerBounds.width / zoomLayerBounds.height;\n\n    if (widthHeightRatio > 1) {\n      this.scale = parentSize.width / zoomLayerBounds.width;\n    } else {\n      this.scale = parentSize.height / zoomLayerBounds.height;\n    }\n  };\n\n  Minimap.prototype.useWidth = function () {\n    var zoomLayer = this.zoomLayer;\n    var zoomLayerBounds = zoomLayer.getBoundingClientRect();\n    var widthHeightRatio = zoomLayerBounds.width / zoomLayerBounds.height;\n    return widthHeightRatio > 1;\n  };\n\n  Minimap.prototype.render = function () {\n    var _this = this;\n\n    this.clear();\n    this.calcRatio();\n    var parentBounds = this.parentContainer.getBoundingClientRect();\n    var zoomLayer = this.zoomLayer;\n    var canvasWidth = zoomLayer.getBoundingClientRect().width * this.scale;\n    var canvasHeight = zoomLayer.getBoundingClientRect().height * this.scale;\n    var viewBoxElm = this.viewBoxElm;\n    utils.editHtmlElement(viewBoxElm).withStyle({\n      display: 'none'\n    });\n\n    if (this.useWidth()) {\n      this.canvas.style.width = \"100%\";\n      utils.editHtmlElement(this.minimapContent).withStyle({\n        width: '100%',\n        height: 'auto'\n      });\n      this.canvas.style.top = \"\".concat(utils.float2Int((parentBounds.height - canvasHeight) / 2), \"px\");\n    } else {\n      this.canvas.style.height = \"100%\";\n      utils.editHtmlElement(this.minimapContent).withStyle({\n        width: 'auto',\n        height: '100%'\n      });\n      this.canvas.style.left = \"\".concat(utils.float2Int((parentBounds.width - canvasWidth) / 2), \"px\");\n    }\n\n    this.canvas.width = Math.ceil(canvasWidth);\n    this.canvas.height = Math.ceil(canvasHeight);\n    var timeout = setTimeout(function () {\n      window.clearTimeout(timeout);\n      html2canvas(zoomLayer, {\n        useCORS: true,\n        scale: _this.scale,\n        canvas: _this.canvas,\n        scrollY: 0,\n        scrollX: 0\n      }).then(_this.onCanvasReady);\n    }, 50);\n  };\n\n  Minimap.prototype.destory = function () {\n    this.listeners = [];\n    this.clear();\n  };\n\n  Minimap.prototype.clear = function () {\n    this.canvas.getContext('2d').clearRect(0, 0, this.canvas.width, this.canvas.height);\n  };\n\n  Minimap.prototype.setViewBoxScale = function (viewBoxScale) {\n    this.viewBoxScale = viewBoxScale;\n    var viewBoxElm = this.viewBoxElm;\n    var maxScaleX = this.canvas.width / viewBoxElm.offsetWidth;\n    var maxScaleY = this.canvas.height / viewBoxElm.offsetHeight;\n    var scaleX = Math.min(1 / viewBoxScale, maxScaleX);\n    var scaleY = Math.min(1 / viewBoxScale, maxScaleY);\n    viewBoxElm.style.transform = \"scale(\".concat(scaleX, \", \").concat(scaleY, \")\");\n    viewBoxElm.style.transformOrigin = \"left top\";\n  };\n\n  return Minimap;\n}();\n\nexport default Minimap;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { NiceDagModelType, NiceDagMode, ViewModelChangeEventType, EdgeConnectorType } from './types';\nimport ViewModel from './ViewModel';\nimport * as utils from './utils';\nimport * as InitArgs from './defaultInitArgs';\nimport { NODE_ID_ATTR } from './constants';\nimport Minimap from './Minimap';\nvar DAGGER_MAIN_LAYER_CLS = 'nice-dag-main-layer';\nvar DAGGER_ZOOM_LAYER_CLS = 'nice-dag-zoom-layer';\nvar DAGGER_CONTENT_LAYER_CLS = 'nice-dag-content-layer';\nvar DAGGER_NODES_LAYER_CLS = 'nice-dag-nodes-layer';\nvar _100_PECTANGLE_SIZE_STYLE = {\n  position: 'relative',\n  height: '100%',\n  width: '100%'\n};\n\nfunction withDefaultValues(args) {\n  var graphLabel = InitArgs.graphLabelWithDefaultValues(args.graphLabel);\n  var subViewPadding = InitArgs.paddingWithDefaultValues(args.subViewPadding, InitArgs.DEFAULT_SUBVIEW_PADDING);\n  return __assign(__assign({}, args), {\n    getEdgeAttributes: args.getEdgeAttributes || InitArgs.getDefaultEdgesAttributes,\n    gridSize: args.gridSize || 40,\n    graphLabel: graphLabel,\n    mode: args.mode || NiceDagMode.WITH_JOINT_NODES,\n    subViewPadding: subViewPadding,\n    gridConfig: utils.withDefaultValues(args.gridConfig, InitArgs.DEFAULT_GRID_CONFIG),\n    edgeConnectorType: args.edgeConnectorType || EdgeConnectorType.CENTER_OF_BORDER,\n    jointEdgeConnectorType: args.jointEdgeConnectorType || EdgeConnectorType.CENTER\n  });\n}\n\nvar DagView =\n/** @class */\nfunction () {\n  function DagView(_a) {\n    var viewConfig = _a.viewConfig,\n        model = _a.model;\n\n    var _this = this;\n\n    var _b;\n\n    this.appendNode = function (vNode) {\n      _this.nodesLayer.appendChild(vNode.ref);\n\n      if (_this.viewConfig.mapNodeToElement) {\n        vNode.ref.appendChild(_this.viewConfig.mapNodeToElement(vNode));\n      }\n    };\n\n    this.getEdgeLabel = function (sourceId, targetId) {\n      throw new Error(\"Can't support the method with \".concat(sourceId, \", \").concat(targetId));\n    };\n\n    this.renderEdge = function (edge) {\n      var element = edge.pathRef;\n\n      var attributes = _this.viewConfig.getEdgeAttributes(edge);\n\n      var pathSvgElement = utils.editHtmlElement(element).withAttributes({\n        'stroke': attributes && attributes.color ? attributes.color : 'rgb(204, 204, 204)' //todo:conside constant\n\n      }).svgElement;\n\n      if (!attributes.hideArrow) {\n        pathSvgElement.setAttribute('marker-mid', \"url(#\".concat(_this.model.dagId, \"-nice-dag-svg-arrow)\"));\n      }\n    };\n\n    this.getNodeLayerSizeStyle = function () {\n      var size = _this.model.size(false);\n\n      return {\n        'position': 'relative',\n        'width': \"\".concat(size.width, \"px\"),\n        'height': \"\".concat(size.height, \"px\"),\n        'z-index': '1'\n      };\n    };\n\n    this.getContentLayerStyle = function () {\n      var size = _this.model.size();\n\n      return {\n        'position': 'absolute',\n        'top': 0,\n        'left': 0,\n        'height': \"\".concat(size.height, \"px\"),\n        'width': \"\".concat(size.width, \"px\")\n      };\n    };\n\n    this.render = function (parentElement) {\n      if (!_this.model.isRoot) {\n        var padding = _this.viewConfig.subViewPadding;\n        utils.editHtmlElement(parentElement).withStyle({\n          'padding-top': \"\".concat(padding.top, \"px\"),\n          'padding-bottom': \"\".concat(padding.bottom, \"px\"),\n          'padding-left': \"\".concat(padding.left, \"px\"),\n          'padding-right': \"\".concat(padding.right, \"px\")\n        });\n      }\n\n      _this.nodesLayer = utils.createElement(parentElement).withStyle(_this.getNodeLayerSizeStyle()).withClassNames(DAGGER_NODES_LAYER_CLS).htmlElement;\n      _this.svgLayer = utils.createSvgIfAbsent(_this.nodesLayer, null, \"\".concat(_this.model.dagId, \"-nice-dag-svg-arrow\")).withAttributes({\n        'width': '100%',\n        'height': '100%'\n      }).svgElement;\n      _this.contentLayer = utils.createElement(parentElement).withStyle(_this.getContentLayerStyle()).withClassNames(DAGGER_CONTENT_LAYER_CLS).htmlElement;\n      var subViewContainers = {};\n\n      _this.model.nodes.forEach(function (node) {\n        _this.appendNode(node);\n\n        if (!utils.isEmpty(node.children) && !node.collapse) {\n          subViewContainers[node.id] = node.ref;\n          node.ref.setAttribute('data-subview-key', 'true');\n        }\n      });\n\n      _this.model.edges.forEach(function (edge) {\n        _this.svgLayer.appendChild(edge.pathRef);\n\n        _this.nodesLayer.appendChild(edge.ref);\n\n        _this.renderEdge(edge);\n      });\n\n      if (!utils.isEmpty(_this.subViews)) {\n        _this.subViews.forEach(function (subView) {\n          subView.render(subViewContainers[subView.model.id]);\n        });\n      }\n    };\n\n    this.resize = function () {\n      utils.editHtmlElement(_this.nodesLayer).withStyle(_this.getNodeLayerSizeStyle());\n      utils.editHtmlElement(_this.contentLayer).withStyle(_this.getContentLayerStyle());\n    };\n\n    this.destory = function () {\n      _this.clear();\n\n      _this.model.removeNodeChangeListener(_this);\n    };\n\n    this.viewConfig = viewConfig;\n    this.model = model;\n    this.model.addModelChangeListener(this);\n    this.subViews = (_b = this.model.childVMs) === null || _b === void 0 ? void 0 : _b.map(function (vm) {\n      return new DagView({\n        viewConfig: viewConfig,\n        model: vm\n      });\n    });\n  }\n\n  DagView.prototype.justifySize = function (size) {\n    if (size.width > 0) {\n      this.nodesLayer.style.width = \"\".concat(size.width, \"px\");\n      this.contentLayer.style.width = \"\".concat(size.width, \"px\");\n    }\n\n    if (size.height > 0) {\n      this.nodesLayer.style.height = \"\".concat(size.height, \"px\");\n      this.contentLayer.style.height = \"\".concat(size.height, \"px\");\n    }\n  };\n\n  DagView.prototype.clear = function () {\n    var _a, _b;\n    /**\n     * Clear padding of the nice-dag-node\n     */\n\n\n    utils.editHtmlElement(this.nodesLayer.parentElement).withStyle({\n      'padding-top': 0,\n      'padding-bottom': 0,\n      'padding-left': 0,\n      'padding-right': 0\n    });\n    (_a = this.nodesLayer) === null || _a === void 0 ? void 0 : _a.remove();\n    (_b = this.contentLayer) === null || _b === void 0 ? void 0 : _b.remove();\n  };\n\n  DagView.prototype.onModelChange = function (event) {\n    var _this = this;\n\n    var _a, _b, _c;\n\n    if (event.type === ViewModelChangeEventType.REMOVE_SUB_VIEW) {\n      var dirtySubView = (_a = this.subViews) === null || _a === void 0 ? void 0 : _a.find(function (subView) {\n        return subView.model.id === event.originalSource.id;\n      });\n      /**\n       * For the case of event propogation, the upper layer view can ignore the event if the id doesn't belong to any subview\n       */\n\n      dirtySubView.destory();\n      this.subViews = (_b = this.subViews) === null || _b === void 0 ? void 0 : _b.filter(function (subView) {\n        return subView.model.id !== \"\".concat(event.originalSource.id);\n      });\n    } else if (event.type === ViewModelChangeEventType.ADD_SUB_VIEW) {\n      var mapper_1 = {};\n      this.subViews.forEach(function (subView) {\n        return mapper_1[subView.model.id] = subView;\n      });\n      this.subViews = (_c = this.model.childVMs) === null || _c === void 0 ? void 0 : _c.map(function (vm) {\n        var subView = mapper_1[vm.id];\n\n        if (!subView) {\n          var newSubView = new DagView({\n            viewConfig: _this.viewConfig,\n            model: vm\n          });\n\n          var element = _this.nodesLayer.querySelector(\"[\".concat(NODE_ID_ATTR, \"='\").concat(event.originalSource.id, \"']\"));\n\n          newSubView.render(element);\n          subView = newSubView;\n        }\n\n        return subView;\n      });\n    } else if (event.type === ViewModelChangeEventType.RESIZE) {\n      this.resize();\n    } else if (event.type === ViewModelChangeEventType.ADD_EDGE) {\n      this.svgLayer.appendChild(event.originalSource.pathRef);\n      this.nodesLayer.appendChild(event.originalSource.ref);\n      event.originalSource.doLayout();\n      this.renderEdge(event.originalSource);\n    } else if (event.type === ViewModelChangeEventType.ADD_NODE) {\n      event.originalSource.doLayout();\n      this.nodesLayer.appendChild(event.originalSource.ref);\n    }\n  };\n\n  DagView.prototype.getAllNodes = function () {\n    return this.model.getAllNodes();\n  };\n\n  DagView.prototype.getAllEdges = function () {\n    return this.model.getAllEdges();\n  };\n\n  return DagView;\n}();\n\nvar ReadOnlyNiceDag =\n/** @class */\nfunction () {\n  function ReadOnlyNiceDag(args) {\n    var _this = this;\n\n    this.listeners = [];\n\n    this.findNodeById = function (id) {\n      return _this.rootModel.findNodeById(id);\n    };\n\n    this.getElementByNodeId = function (id) {\n      var element = _this.zoomLayer.querySelector(\"[\".concat(NODE_ID_ATTR, \"='\").concat(id, \"']>.\").concat(DAGGER_CONTENT_LAYER_CLS));\n\n      if (!element) {\n        element = _this.zoomLayer.querySelector(\"[\".concat(NODE_ID_ATTR, \"='\").concat(id, \"']\"));\n      }\n\n      return element;\n    };\n\n    this.getEdgeLabel = function (sourceId, targetId) {\n      return _this.rootView.getEdgeLabel(sourceId, targetId);\n    };\n\n    this.scrollTo = function (id) {\n      var element = _this.getElementByNodeId(id);\n\n      var parentRect = _this.rootContainer.getBoundingClientRect();\n\n      if (element) {\n        var rect = element.getBoundingClientRect();\n        _this.mainLayer.scrollTop += rect.y - parentRect.y - parentRect.height / 2;\n        _this.mainLayer.scrollLeft += rect.x - parentRect.x;\n      }\n    };\n\n    this.getScrollPosition = function () {\n      return {\n        x: _this.mainLayer.scrollLeft,\n        y: _this.mainLayer.scrollTop\n      };\n    };\n\n    this.fireNiceDagChange = function () {\n      _this.listeners.forEach(function (listener) {\n        return listener.onChange();\n      });\n\n      _this.fireMinimapChange();\n    };\n\n    this.fireMinimapChange = function () {\n      var _a;\n\n      (_a = _this.minimap) === null || _a === void 0 ? void 0 : _a.render();\n    };\n\n    this.addNiceDagChangeListener = function (listener) {\n      if (_this.listeners.every(function (l) {\n        return l !== listener;\n      })) {\n        _this.listeners.push(listener);\n      }\n\n      return false;\n    };\n\n    this.removeNiceDagChangeListener = function (listener) {\n      if (_this.listeners.some(function (l) {\n        return l === listener;\n      })) {\n        _this.listeners = _this.listeners.filter(function (l) {\n          return l === listener;\n        });\n      }\n\n      return false;\n    };\n\n    this.onMainLayerScroll = function () {\n      var _a;\n\n      (_a = _this.minimap) === null || _a === void 0 ? void 0 : _a.updateViewBoxPosition();\n    };\n\n    this.uid = utils.uuid();\n\n    var _a = withDefaultValues(args),\n        container = _a.container,\n        minimapContainer = _a.minimapContainer,\n        minimapConfig = _a.minimapConfig,\n        config = __rest(_a, [\"container\", \"minimapContainer\", \"minimapConfig\"]);\n\n    this._config = config;\n    this._config.mapEdgeToPoints = args.mapEdgeToPoints;\n\n    if (!this._config.mapEdgeToPoints) {\n      this._config.mapEdgeToPoints = InitArgs.mapEdgeToPointsWithDir[this._config.graphLabel.rankdir];\n      this.useDefaultMapEdgeToPoints = true;\n    }\n\n    this._rootContainer = container;\n    this.mainLayer = utils.createElementIfAbsent(this.rootContainer, DAGGER_MAIN_LAYER_CLS).withStyle(__assign(__assign({}, _100_PECTANGLE_SIZE_STYLE), {\n      overflow: 'auto'\n    })).htmlElement;\n    this.mainLayer.addEventListener('scroll', this.onMainLayerScroll);\n    this.zoomLayer = utils.createElementIfAbsent(this.mainLayer, DAGGER_ZOOM_LAYER_CLS).withStyle({\n      'position': 'absolute',\n      'z-index': 1\n    }).htmlElement;\n\n    if (minimapContainer) {\n      this.minimap = new Minimap(__assign({\n        mainLayer: this.mainLayer,\n        zoomLayer: this.zoomLayer,\n        container: minimapContainer\n      }, minimapConfig));\n      this.minimap.addMinimapListener(this);\n    }\n  }\n\n  ReadOnlyNiceDag.prototype.setDirection = function (direction) {\n    this._config.graphLabel.rankdir = direction;\n\n    if (this.useDefaultMapEdgeToPoints) {\n      this._config.mapEdgeToPoints = InitArgs.mapEdgeToPointsWithDir[this._config.graphLabel.rankdir];\n    }\n\n    this.prettifier();\n  };\n\n  ReadOnlyNiceDag.prototype.prettifier = function () {\n    this.rootModel.doLayout(true, true);\n    this.justifyCenter(this.parentSize);\n    this.fireMinimapChange();\n  };\n\n  ReadOnlyNiceDag.prototype.onMinimapDragging = function (event) {\n    var scrollLeft = event.scrollLeft,\n        scrollTop = event.scrollTop;\n    this.mainLayer.scrollTop = scrollTop;\n    this.mainLayer.scrollLeft = scrollLeft;\n  };\n\n  ReadOnlyNiceDag.prototype.onModelChange = function (event) {\n    if (event.type === ViewModelChangeEventType.RESIZE) {\n      utils.editHtmlElement(this.zoomLayer).withSize(this.rootView.model.size());\n    }\n\n    if (event.type === ViewModelChangeEventType.RESIZE || event.type === ViewModelChangeEventType.ADD_SUB_VIEW || event.type === ViewModelChangeEventType.REMOVE_SUB_VIEW) {\n      this.justifyCenter(this.parentSize);\n    }\n  };\n\n  Object.defineProperty(ReadOnlyNiceDag.prototype, \"config\", {\n    get: function get() {\n      return this._config;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ReadOnlyNiceDag.prototype, \"rootContainer\", {\n    get: function get() {\n      return this._rootContainer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ReadOnlyNiceDag.prototype, \"id\", {\n    get: function get() {\n      return this.uid;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ReadOnlyNiceDag.prototype.center = function (size) {\n    this.parentSize = size;\n    this.justifyCenter(this.parentSize);\n    this.fireMinimapChange();\n    return this;\n  };\n\n  ReadOnlyNiceDag.prototype.justifyCenter = function (size) {\n    if (size) {\n      var zoomLayerBounds = this.zoomLayer.getBoundingClientRect();\n      var offsetX = 0;\n      var offsetY = 0;\n\n      if (size.width > zoomLayerBounds.width) {\n        offsetX = (size.width - zoomLayerBounds.width) / 2;\n      }\n\n      if (size.height > zoomLayerBounds.height) {\n        offsetY = (size.height - zoomLayerBounds.height) / 2;\n      }\n\n      this.zoomLayer.style.left = \"\".concat(offsetX, \"px\");\n      this.zoomLayer.style.top = \"\".concat(offsetY, \"px\");\n    }\n  };\n\n  ReadOnlyNiceDag.prototype.withNodes = function (nodes) {\n    var _a, _b, _c;\n\n    (_a = this.rootModel) === null || _a === void 0 ? void 0 : _a.destory();\n    (_b = this.rootView) === null || _b === void 0 ? void 0 : _b.clear();\n    (_c = this.minimap) === null || _c === void 0 ? void 0 : _c.clear();\n    var hirerarchyNodes = this.config.modelType === NiceDagModelType.FLATTEN ? utils.flattenToHirerarchy(nodes) : nodes;\n    /**\n     * deep clone,due to the joint node will change dependencies\n     */\n\n    var _nodes = JSON.parse(JSON.stringify(hirerarchyNodes));\n\n    this.rootModel = new ViewModel({\n      dagId: this.uid,\n      id: 'root',\n      nodes: _nodes,\n      vmConfig: this.config,\n      isRootModel: true\n    });\n    this.rootView = new DagView({\n      model: this.rootModel,\n      viewConfig: this.config\n    });\n    this.rootModel.addModelChangeListener(this);\n    return this;\n  };\n\n  ReadOnlyNiceDag.prototype.getAllNodes = function () {\n    return this.rootView.getAllNodes();\n  };\n\n  ReadOnlyNiceDag.prototype.getAllEdges = function () {\n    return this.rootView.getAllEdges();\n  };\n\n  ReadOnlyNiceDag.prototype.render = function () {\n    var _a;\n\n    this.rootView.render(this.zoomLayer);\n    (_a = this.minimap) === null || _a === void 0 ? void 0 : _a.render();\n    utils.editHtmlElement(this.zoomLayer).withAbsolutePosition(__assign({\n      x: 0,\n      y: 0\n    }, this.rootView.model.size()));\n\n    if (this.parentSize) {\n      this.justifyCenter(this.parentSize);\n    }\n  };\n\n  ReadOnlyNiceDag.prototype.destory = function () {\n    var _a;\n\n    this.listeners = [];\n    this.rootView.destory();\n    (_a = this.minimap) === null || _a === void 0 ? void 0 : _a.destory();\n  };\n\n  ReadOnlyNiceDag.prototype.setScale = function (scale) {\n    this._scale = scale;\n    this.zoomLayer.style.transform = \"scale(\".concat(scale, \")\");\n    this.zoomLayer.style.transformOrigin = \"left top\";\n    this.zoomLayer.setAttribute('data-zoom-ratio-key', \"\".concat(scale));\n\n    if (this.parentSize) {\n      this.justifyCenter(this.parentSize);\n    }\n\n    if (this.minimap) {\n      this.minimap.setViewBoxScale(scale);\n    }\n  };\n\n  Object.defineProperty(ReadOnlyNiceDag.prototype, \"scale\", {\n    get: function get() {\n      return this._scale || 1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ReadOnlyNiceDag;\n}();\n\nexport default ReadOnlyNiceDag;","export var XDirection;\n\n(function (XDirection) {\n  XDirection[\"LeftToRight\"] = \"LeftToRight\";\n  XDirection[\"RightToLeft\"] = \"RightToLeft\";\n  XDirection[\"None\"] = \"None\";\n})(XDirection || (XDirection = {}));\n\nexport var YDirection;\n\n(function (YDirection) {\n  YDirection[\"TopToBottom\"] = \"TopToBottom\";\n  YDirection[\"BottomToTop\"] = \"BottomToTop\";\n  YDirection[\"None\"] = \"None\";\n})(YDirection || (YDirection = {}));","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { NiceDagMode } from './types';\nimport * as utils from './utils';\nimport { NICE_DAG_NODE_CLS, NODE_ID_ATTR, SVG_DND_ARROW_ID } from './constants';\nimport { XDirection, YDirection } from './dndTypes';\nimport * as niceDagHolder from './niceDagHolder';\nvar GLASS_NODE_CLS = 'dnd-glass';\nvar GLASS_STYLE = {\n  position: 'fixed',\n  top: '0',\n  left: '0',\n  right: '0',\n  bottom: '0',\n  zIndex: '9999',\n  display: 'none',\n  'user-select': 'none'\n};\n\nfunction isPointInBounds(point, bounds) {\n  return bounds.x <= point.x && bounds.y <= point.y && bounds.right >= point.x && bounds.bottom >= point.y;\n}\n\nvar NiceDagDnd =\n/** @class */\nfunction () {\n  function NiceDagDnd(rootContainer, glassStyles, mapEdgeToPoints) {\n    var _this = this;\n\n    var _a;\n\n    this.eligibleEdgeConnectors = [];\n\n    this.setEnabled = function (enabled) {\n      _this._enabled = enabled;\n    };\n\n    this.initContext = function (node) {\n      _this.originalScrollPosition = {\n        x: _this._rootContainer.scrollLeft,\n        y: _this._rootContainer.scrollTop\n      };\n      _this.draggingNode = node;\n      _this.draggingNodeParentBounds = utils.htmlElementBounds(node.ref.parentElement);\n      var niceDagNodes = node.ref.parentElement.querySelectorAll(\":scope>.\".concat(NICE_DAG_NODE_CLS));\n      _this.eligibleEdgeConnectors = [];\n      niceDagNodes.forEach(function (niceDagNode) {\n        if (niceDagNode !== node.ref) {\n          _this.eligibleEdgeConnectors.push({\n            viewNode: node.model.findNodeById(niceDagNode.getAttribute(NODE_ID_ATTR)),\n            bounds: utils.htmlElementBounds(niceDagNode)\n          });\n        }\n      });\n    };\n\n    this.withContext = function (dndContext) {\n      _this.context = dndContext;\n      return _this;\n    };\n\n    this.startNodeDragging = function (node, e) {\n      if (_this._enabled) {\n        utils.editHtmlElement(_this.editableGlass).withStyle({\n          display: 'block'\n        });\n\n        _this.initContext(node);\n\n        _this.updateRelativeMousePoint({\n          x: e.pageX,\n          y: e.pageY\n        });\n\n        _this.draggingElement = utils.editHtmlElement(node.ref.cloneNode(true)).withStyle({\n          'transform': \"scale(\".concat(_this.context.provider.scale, \")\"),\n          'transformOrigin': \"top left\"\n        }).htmlElement;\n\n        var lastBounds = _this.context.lastBounds();\n\n        utils.editHtmlElement(_this.draggingElement).withStyle({\n          'user-select': 'none',\n          'z-index': 9\n        }).withAbsolutePoint({\n          x: lastBounds.left,\n          y: lastBounds.top\n        });\n\n        _this.editableGlass.appendChild(_this.draggingElement);\n      }\n    };\n\n    this.startEdgeDragging = function (node, e) {\n      if (_this._enabled) {\n        utils.editHtmlElement(_this.editableGlass).withStyle({\n          display: 'block'\n        });\n        _this.isDraggingEdge = true;\n        var svg = _this.context.provider.svgDndBackground;\n        _this.draggingElement = utils.createSvgElement(svg, 'path').withAttributes({\n          'stroke': 'rgb(204, 204, 204)',\n          'marker-mid': \"url(#\".concat(node.model.dagId, \"-\").concat(SVG_DND_ARROW_ID, \")\")\n        }).svgElement;\n\n        _this.initContext(node);\n\n        _this.updateRelativeMousePoint({\n          x: e.pageX,\n          y: e.pageY\n        });\n      }\n    };\n\n    this.onDragging = function (event) {\n      event.stopPropagation();\n\n      if (event.button === 0) {\n        var mPoint = {\n          x: event.pageX,\n          y: event.pageY\n        };\n\n        if (_this.context) {\n          var rootBounds = _this._rootContainer.getBoundingClientRect();\n\n          var xDirection = _this.context.xDirection(mPoint, rootBounds);\n\n          var yDirection = _this.context.yDirection(mPoint, rootBounds);\n\n          _this.updateRelativeMousePoint(mPoint);\n\n          if (_this.isDraggingEdge) {\n            _this.renderDraggingEdge(mPoint);\n          } else {\n            _this.onDraggingNode(xDirection, yDirection);\n          }\n        }\n      }\n    };\n\n    this.endDragging = function (event) {\n      var _a;\n\n      (_a = _this.draggingElement) === null || _a === void 0 ? void 0 : _a.remove();\n      var mPoint = {\n        x: event.pageX,\n        y: event.pageY\n      };\n\n      _this.updateRelativeMousePoint(mPoint);\n\n      var scrollDelta = {\n        x: _this._rootContainer.scrollLeft - _this.originalScrollPosition.x,\n        y: _this._rootContainer.scrollTop - _this.originalScrollPosition.y\n      };\n      var scale = _this.context.provider.scale || 1;\n\n      if (!_this.isDraggingEdge) {\n        _this.draggingNode.setPoint({\n          x: _this.draggingNode.x + _this.context.xyDelta.x / scale + scrollDelta.x,\n          y: _this.draggingNode.y + _this.context.xyDelta.y / scale + scrollDelta.y\n        });\n      } else {\n        var targetNode = _this.findPotentialEdgeTarget(mPoint);\n\n        if (targetNode) {\n          _this.draggingNode.connect(targetNode);\n        }\n      }\n\n      utils.editHtmlElement(_this.editableGlass).withStyle({\n        display: 'none'\n      });\n      utils.editHtmlElement(_this.context.provider.svgDndBackground).withStyle({\n        display: 'none'\n      });\n      _this.isDraggingEdge = false;\n    };\n\n    this.updateRelativeMousePoint = function (mPoint) {\n      var rootBounds = _this._rootContainer.getBoundingClientRect();\n\n      _this.context.moveTo(mPoint, rootBounds);\n\n      if (!_this.isDraggingEdge) {\n        var lastBounds = _this.context.lastBounds();\n\n        var parentTopLeft = _this.context.provider.getParentTopLeft(_this.draggingNode);\n\n        var xDelta = 0;\n        var yDelta = 0;\n\n        if (lastBounds.left < parentTopLeft.x) {\n          xDelta = parentTopLeft.x - lastBounds.left;\n        }\n\n        if (lastBounds.top < parentTopLeft.y) {\n          yDelta = parentTopLeft.y - lastBounds.top;\n        }\n\n        _this.context.moveTo({\n          x: mPoint.x + xDelta,\n          y: mPoint.y + yDelta\n        }, rootBounds);\n      }\n    };\n\n    this.scrollIfNeeded = function (_a) {\n      var xDirection = _a.xDirection,\n          yDirection = _a.yDirection;\n\n      var rootBounds = _this._rootContainer.getBoundingClientRect();\n\n      var lastGlobalBounds = utils.htmlElementBounds(_this.draggingElement);\n\n      _this.context.provider.resizeIfNeeded(lastGlobalBounds);\n\n      var xDelta = 0;\n      var yDelta = 0;\n\n      if (xDirection === XDirection.LeftToRight && lastGlobalBounds.right > rootBounds.right) {\n        xDelta = lastGlobalBounds.right - rootBounds.right;\n      }\n\n      if (xDirection === XDirection.RightToLeft && lastGlobalBounds.left < rootBounds.left) {\n        xDelta = -(rootBounds.left - lastGlobalBounds.left);\n      }\n\n      if (yDirection === YDirection.TopToBottom && lastGlobalBounds.bottom >= rootBounds.bottom - 20) {\n        yDelta = lastGlobalBounds.bottom - (rootBounds.bottom - 20);\n      }\n\n      if (yDirection === YDirection.BottomToTop && lastGlobalBounds.top < rootBounds.top) {\n        yDelta = -(rootBounds.top - lastGlobalBounds.top);\n      }\n\n      _this._rootContainer.scrollLeft += xDelta;\n      _this._rootContainer.scrollTop += yDelta;\n    };\n\n    this._rootContainer = rootContainer;\n    this._glassStyles = glassStyles;\n    this.mapEdgeToPoints = mapEdgeToPoints;\n    var editableGlass = utils.createElementIfAbsent(document.body, GLASS_NODE_CLS).withStyle(__assign(__assign({}, GLASS_STYLE), {\n      cursor: ((_a = this._glassStyles) === null || _a === void 0 ? void 0 : _a.cursor) || 'pointer'\n    }));\n\n    if (!editableGlass.alreadyExists) {\n      editableGlass.htmlElement.addEventListener('mousemove', this.onDragging);\n      editableGlass.htmlElement.addEventListener('mouseup', this.endDragging);\n    }\n\n    this.editableGlass = editableGlass.htmlElement;\n  }\n\n  NiceDagDnd.prototype.destory = function () {\n    this.editableGlass.remove();\n  };\n\n  NiceDagDnd.prototype.renderDraggingEdge = function (mPoint) {\n    var targetNode = this.draggingNode;\n    var potentialEdgeTarget = this.findPotentialEdgeTarget(mPoint);\n\n    if (potentialEdgeTarget) {\n      targetNode = potentialEdgeTarget;\n    }\n\n    var _a = this.mapEdgeToPoints({\n      source: this.draggingNode,\n      target: targetNode\n    }),\n        edgeSource = _a.source,\n        edgeTarget = _a.target;\n\n    var scale = this.context.provider.scale || 1;\n    var backgroundBounds = utils.resetBoundsWithRatio(this.context.provider.svgDndBackground.getBoundingClientRect(), scale);\n    var draggingNodeParentBounds = utils.resetBoundsWithRatio(this.draggingNodeParentBounds, scale);\n    var source = {\n      x: edgeSource.x + draggingNodeParentBounds.x - backgroundBounds.x,\n      y: edgeSource.y + draggingNodeParentBounds.y - backgroundBounds.y\n    };\n    var edgeTargetGPoint = {\n      x: edgeTarget.x + draggingNodeParentBounds.x,\n      y: edgeTarget.y + draggingNodeParentBounds.y\n    };\n    var target = {\n      x: (targetNode !== this.draggingNode ? edgeTargetGPoint.x : utils.float2Int(mPoint.x / scale)) - backgroundBounds.x,\n      y: (targetNode !== this.draggingNode ? edgeTargetGPoint.y : utils.float2Int(mPoint.y / scale)) - backgroundBounds.y\n    };\n    var midX = (source.x + target.x) / 2;\n    var midY = (source.y + target.y) / 2;\n    var path = \"M\".concat(source.x, \",\").concat(source.y, \" L\").concat(midX, \",\").concat(midY, \" L\").concat(target.x, \",\").concat(target.y);\n    utils.editHtmlElement(this.draggingElement).withAttributes({\n      'd': path\n    });\n  };\n\n  NiceDagDnd.prototype.findPotentialEdgeTarget = function (mPoint) {\n    var _this = this;\n\n    var _a;\n\n    var potentialConnector = this.eligibleEdgeConnectors.find(function (connector) {\n      return isPointInBounds(mPoint, connector.bounds);\n    });\n\n    if (potentialConnector && !((_a = potentialConnector.viewNode.dependencies) === null || _a === void 0 ? void 0 : _a.some(function (dependency) {\n      return dependency === _this.draggingNode.id;\n    }))) {\n      if (niceDagHolder.use(this.draggingNode.model.dagId).config.mode === NiceDagMode.WITH_JOINT_NODES) {\n        if (!potentialConnector.viewNode.dependencies || potentialConnector.viewNode.dependencies.length === 0 || potentialConnector.viewNode.joint) {\n          return potentialConnector.viewNode;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  NiceDagDnd.prototype.onDraggingNode = function (xDirection, yDirection) {\n    var lastBounds = this.context.lastBounds();\n    this.scrollIfNeeded({\n      xDirection: xDirection,\n      yDirection: yDirection\n    });\n    utils.editHtmlElement(this.draggingElement).withAbsolutePoint({\n      x: lastBounds.left,\n      y: lastBounds.top\n    });\n  };\n\n  return NiceDagDnd;\n}();\n\nexport default NiceDagDnd;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { XDirection, YDirection } from './dndTypes';\nvar MOUSE_ACTION_MIN_INTERVAL = 200; //millisecond\n\nvar DndContext =\n/** @class */\nfunction () {\n  function DndContext(_a) {\n    var rootXy = _a.rootXy,\n        mPoint = _a.mPoint,\n        bounds = _a.bounds,\n        scale = _a.scale,\n        provider = _a.provider;\n\n    var _this = this;\n    /**\n     * Relative point to Root\n     */\n\n\n    this.moveTo = function (mPoint, rootXy) {\n      _this.mrPoint = {\n        x: mPoint.x - rootXy.x,\n        y: mPoint.y - rootXy.y\n      };\n    };\n    /**\n     * Get x Direction\n     * 1. Convert global point to relative point\n     * 2. Compare the relative point with current\n     *\n     * @param {mPoint, rootXy} mPoint:Mouse point (Global), rootXy:Current root bounds (Global)\n     * @returns lr|none|rl\n     */\n\n\n    this.xDirection = function (mPoint, rootXy) {\n      var x = mPoint.x - rootXy.left;\n      var rX = (_this.mrPoint || {\n        x: 0\n      }).x;\n\n      if (rX < x) {\n        return XDirection.LeftToRight;\n      } else if (rX === x) {\n        return XDirection.None;\n      }\n\n      return XDirection.RightToLeft;\n    };\n\n    this.yDirection = function (mPoint, rootXy) {\n      var y = mPoint.y - rootXy.top;\n\n      if ((_this.mrPoint || {\n        y: 0\n      }).y < y) {\n        return YDirection.TopToBottom;\n      } else if ((_this.mrPoint || {\n        y: 0\n      }).y == y) {\n        return YDirection.None;\n      }\n\n      return YDirection.BottomToTop;\n    };\n\n    this.allowDrop = function () {\n      if (_this.mouseDownTimestamp && new Date().getTime() - _this.mouseDownTimestamp <= MOUSE_ACTION_MIN_INTERVAL) {\n        return false;\n      }\n\n      var offset = _this.xyDelta;\n\n      if (Math.abs(offset.x) <= 5 && Math.abs(offset.y) <= 5) {\n        return false;\n      }\n\n      return true;\n    };\n\n    this.mouseDownTimestamp = new Date().getTime();\n    this.rootXy = rootXy;\n    this._scale = scale;\n    var x = rootXy.x,\n        y = rootXy.y;\n    this._originalPoint = {\n      x: mPoint.x - x,\n      y: mPoint.y - y\n    };\n    this.originalBounds = {\n      x: bounds.left,\n      y: bounds.top,\n      left: bounds.left,\n      top: bounds.top,\n      width: bounds.width,\n      height: bounds.height,\n      right: bounds.left + bounds.width,\n      bottom: bounds.top + bounds.height\n    };\n    this.originalOffset = {\n      x: this._originalPoint.x - this.originalBounds.x,\n      y: this._originalPoint.y - this.originalBounds.y\n    };\n    this.mrPoint = this._originalPoint;\n    this._provider = provider;\n    this.validDndThreshold = (provider === null || provider === void 0 ? void 0 : provider.validDndThreshold) || 3;\n  }\n\n  Object.defineProperty(DndContext.prototype, \"originalPoint\", {\n    get: function get() {\n      return this._originalPoint;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DndContext.prototype.lastBounds = function (relative) {\n    if (relative === void 0) {\n      relative = false;\n    }\n\n    var xyDelta = this.xyDelta;\n    var _a = {\n      x: this.originalBounds.left + xyDelta.x,\n      y: this.originalBounds.top + xyDelta.y\n    },\n        x = _a.x,\n        y = _a.y;\n\n    var _x = !relative ? x : x - this.rootXy.x;\n\n    var _y = !relative ? y : y - this.rootXy.y;\n\n    return __assign(__assign({}, this.originalBounds), {\n      x: _x,\n      y: _y,\n      left: _x,\n      top: _y,\n      right: _x + this.originalBounds.width,\n      bottom: _y + this.originalBounds.height\n    });\n  };\n\n  Object.defineProperty(DndContext.prototype, \"xyDelta\", {\n    get: function get() {\n      return {\n        x: this.mrPoint.x - this._originalPoint.x,\n        y: this.mrPoint.y - this._originalPoint.y\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DndContext.prototype.topLeftDelta = function (point) {\n    return {\n      x: point.x - (this._originalPoint.x - this.originalOffset.x),\n      y: point.y - (this._originalPoint.y - this.originalOffset.y)\n    };\n  };\n\n  Object.defineProperty(DndContext.prototype, \"provider\", {\n    get: function get() {\n      return this._provider;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DndContext.prototype, \"point\", {\n    /**\n     * Return relative mouse point\n     */\n    get: function get() {\n      return this.mrPoint;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return DndContext;\n}();\n\nexport default DndContext;","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport ReadOnlyNiceDag from \"./ReadOnlyNiceDag\";\nimport { ViewModelChangeEventType } from './types';\nimport NiceDagDnd from './dnd';\nimport * as utils from './utils';\nimport DndContext from \"./dndContext\";\nimport { resetBoundsWithRatio } from \"./utils\";\nimport { EDITOR_BKG_CLS, SVG_BKG_ARROW_ID, SVG_BKG_CLS, SVG_DND_ARROW_ID, SVG_DND_CLS, ZERO_BOUNDS } from \"./constants\";\nvar SVGNS = \"http://www.w3.org/2000/svg\";\n\nvar NiceDagGrid =\n/** @class */\nfunction () {\n  function NiceDagGrid(svg, gridSize, _scale) {\n    var _this = this;\n\n    this.xLines = [];\n    this.yLines = [];\n\n    this.doLayout = function () {\n      var parentBounds = _this.svg.getBoundingClientRect();\n\n      var bounds = resetBoundsWithRatio(parentBounds, _this._scale || 1);\n      _this._xArr = [];\n\n      for (var v = 0; v <= bounds.width;) {\n        _this._xArr.push(v);\n\n        v += _this.gridSize;\n      }\n\n      _this._yArr = [];\n\n      for (var v = 0; v <= bounds.height;) {\n        _this._yArr.push(v);\n\n        v += _this.gridSize;\n      }\n    };\n\n    this.getLines = function (isYAxis) {\n      if (isYAxis === void 0) {\n        isYAxis = false;\n      }\n\n      var parentBounds = _this.svg.getBoundingClientRect();\n\n      var _bounds = resetBoundsWithRatio(parentBounds, _this._scale || 1);\n\n      var points = isYAxis ? _this._yArr : _this._xArr;\n      var lines = points.map(function (value) {\n        if (isYAxis) {\n          return {\n            x1: 0,\n            y1: value,\n            x2: _bounds.width,\n            y2: value\n          };\n        }\n\n        return {\n          x1: value,\n          y1: 0,\n          x2: value,\n          y2: _bounds.height\n        };\n      });\n      return lines;\n    };\n    /**\n     * Return row, column\n     * @param p point in Global Coordinate System\n     * @returns {row, column}\n     */\n\n\n    this.gridPoint = function (p) {\n      var parentBounds = _this.svg.getBoundingClientRect();\n\n      var point = {\n        x: utils.float2Int(p.x / _this.scale),\n        y: utils.float2Int(p.y / _this.scale)\n      };\n      var pBounds = resetBoundsWithRatio(parentBounds, _this.scale);\n      var _a = _this,\n          xArr = _a.xArr,\n          yArr = _a.yArr;\n      var location = {\n        column: -1,\n        row: -1\n      };\n\n      if (point.x >= pBounds.left + xArr[0]) {\n        for (var i = 0; i < xArr.length; i++) {\n          if (point.x < pBounds.left + xArr[i]) {\n            location.column = i - 1;\n            break;\n          }\n        }\n\n        if (location.column === -1) {\n          location.column = xArr.length - 2;\n        }\n\n        if (location.column > xArr.length - 2) {\n          location.column = xArr.length - 2;\n        }\n      }\n\n      if (point.y >= pBounds.top + yArr[0]) {\n        for (var i = 0; i < yArr.length; i++) {\n          if (point.y < pBounds.top + yArr[i]) {\n            location.row = i - 1;\n            break;\n          }\n        }\n\n        if (location.row === -1) {\n          location.row = yArr.length - 2;\n        }\n\n        if (location.row > yArr.length - 2) {\n          location.row = yArr.length - 2;\n        }\n      }\n\n      if (location.column >= 0 && location.row >= 0) {\n        return {\n          x: xArr[location.column] + parentBounds.left,\n          y: yArr[location.row] + parentBounds.top\n        };\n      }\n\n      return {\n        x: parentBounds.left,\n        y: parentBounds.top\n      };\n    };\n\n    this.render = function () {\n      _this._visible = true;\n\n      _this.clear();\n\n      _this.doLayout();\n\n      var xLines = _this.getLines();\n\n      xLines.forEach(function (line) {\n        _this.appendLine(line, false);\n      });\n\n      var yLines = _this.getLines(true);\n\n      yLines.forEach(function (line) {\n        _this.appendLine(line, true);\n      });\n    };\n\n    this.gridSize = gridSize;\n    this.svg = svg;\n    this._scale = _scale || 1;\n    this._visible = false;\n  }\n\n  Object.defineProperty(NiceDagGrid.prototype, \"visible\", {\n    get: function get() {\n      return this._visible;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  NiceDagGrid.prototype.clear = function () {\n    this.svg.innerHTML = '';\n    this.xLines = [];\n    this.yLines = [];\n  };\n\n  Object.defineProperty(NiceDagGrid.prototype, \"xArr\", {\n    get: function get() {\n      return this._xArr;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(NiceDagGrid.prototype, \"yArr\", {\n    get: function get() {\n      return this._yArr;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  NiceDagGrid.prototype.appendLine = function (line, isYAxis) {\n    var lineSvg = document.createElementNS(SVGNS, \"line\");\n    lineSvg.setAttribute(\"class\", 'nice-dag-dnd-svg-layer-dash-line');\n    lineSvg.setAttribute(\"x1\", \"\".concat(line.x1));\n    lineSvg.setAttribute(\"x2\", \"\".concat(line.x2));\n    lineSvg.setAttribute(\"y1\", \"\".concat(line.y1));\n    lineSvg.setAttribute(\"y2\", \"\".concat(line.y2));\n    utils.editHtmlElement(lineSvg).withAttributes({\n      'stroke': '#9a9a9a',\n      'stroke-width': 1,\n      'stroke-dasharray': '2, 4'\n    });\n\n    if (!isYAxis) {\n      this.xLines.push(lineSvg);\n    } else {\n      this.yLines.push(lineSvg);\n    }\n\n    this.svg.appendChild(lineSvg);\n  };\n\n  NiceDagGrid.prototype.redraw = function () {\n    var _a = this,\n        xArr = _a.xArr,\n        yArr = _a.yArr;\n\n    this.doLayout();\n    var xLines = this.getLines();\n\n    if (this._xArr.length > xArr.length) {\n      for (var i = 0; i < this._xArr.length; i++) {\n        var line = xLines[i];\n\n        if (i >= xArr.length) {\n          this.appendLine(line, false);\n        }\n      }\n    }\n\n    for (var i = 0; i < xLines.length; i++) {\n      var line = xLines[i];\n      utils.editHtmlElement(this.xLines[i]).withAttributes({\n        'x1': \"\".concat(line.x1),\n        'x2': \"\".concat(line.x2),\n        'y1': \"\".concat(line.y1),\n        'y2': \"\".concat(line.y2)\n      });\n    }\n\n    var yLines = this.getLines(true);\n\n    if (this._yArr.length > yArr.length) {\n      for (var i = 0; i < this._yArr.length; i++) {\n        var line = yLines[i];\n\n        if (i >= yArr.length) {\n          this.appendLine(line, true);\n        }\n      }\n    }\n\n    for (var i = 0; i < yLines.length; i++) {\n      var line = yLines[i];\n      utils.editHtmlElement(this.yLines[i]).withAttributes({\n        'x1': \"\".concat(line.x1),\n        'x2': \"\".concat(line.x2),\n        'y1': \"\".concat(line.y1),\n        'y2': \"\".concat(line.y2)\n      });\n    }\n  };\n\n  Object.defineProperty(NiceDagGrid.prototype, \"scale\", {\n    set: function set(value) {\n      this._scale = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return NiceDagGrid;\n}();\n\nvar WritableNiceDag =\n/** @class */\nfunction (_super) {\n  __extends(WritableNiceDag, _super);\n\n  function WritableNiceDag(args) {\n    var _this = _super.call(this, args) || this;\n\n    _this.startEditing = function () {\n      _this._editing = true;\n\n      _this.getAllNodes().forEach(function (node) {\n        return node.editing = true;\n      });\n\n      _this._dnd.setEnabled(true);\n\n      _this.setGridVisible(true);\n    };\n\n    _this.stopEditing = function () {\n      _this._editing = false;\n\n      _this.getAllNodes().forEach(function (node) {\n        return node.editing = false;\n      });\n\n      _this._dnd.setEnabled(false);\n\n      _this.setGridVisible(false);\n    };\n\n    _this.startEdgeDragging = function (node, e) {\n      utils.editHtmlElement(_this.svgDndBkg).withStyle({\n        'display': 'block'\n      });\n\n      var rootBounds = _this._rootContainer.getBoundingClientRect();\n\n      var bounds = node.ref.getBoundingClientRect();\n\n      _this._dnd.withContext(new DndContext({\n        rootXy: {\n          x: rootBounds.left,\n          y: rootBounds.y\n        },\n        mPoint: {\n          x: e.pageX,\n          y: e.pageY\n        },\n        bounds: bounds,\n        scale: _this._scale,\n        provider: _this\n      })).startEdgeDragging(node, e);\n    };\n\n    _this.startNodeDragging = function (node, e) {\n      utils.editHtmlElement(_this.svgDndBkg).withStyle({\n        'display': 'block'\n      });\n      node.editing = true;\n\n      var rootBounds = _this._rootContainer.getBoundingClientRect();\n\n      var bounds = node.ref.getBoundingClientRect();\n\n      _this._dnd.withContext(new DndContext({\n        rootXy: {\n          x: rootBounds.left,\n          y: rootBounds.y\n        },\n        mPoint: {\n          x: e.pageX,\n          y: e.pageY\n        },\n        bounds: bounds,\n        scale: _this._scale,\n        provider: _this\n      })).startNodeDragging(node, e);\n    };\n\n    _this._dnd = new NiceDagDnd(_this.mainLayer, args.glassStyles, _this._config.mapEdgeToPoints);\n    _this.editorBkgContainer = utils.createElementIfAbsent(_this.mainLayer, EDITOR_BKG_CLS).htmlElement;\n    _this.svgGridBkg = utils.createSvgIfAbsent(_this.editorBkgContainer, null, \"\".concat(_this.uid, \"-\").concat(SVG_BKG_ARROW_ID)).withStyle({\n      width: '100%',\n      height: '100%'\n    }).withClassNames(SVG_BKG_CLS).svgElement;\n    _this.svgDndBkg = utils.createSvgIfAbsent(_this.editorBkgContainer, null, \"\".concat(_this.uid, \"-\").concat(SVG_DND_ARROW_ID)).withClassNames(SVG_DND_CLS).withAbsolutePosition(ZERO_BOUNDS).withStyle({\n      width: '100%',\n      height: '100%',\n      'display': 'none',\n      'z-index': 99\n    }).svgElement;\n    return _this;\n  }\n\n  Object.defineProperty(WritableNiceDag.prototype, \"svgDndBackground\", {\n    get: function get() {\n      return this.svgDndBkg;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WritableNiceDag.prototype.onModelChange = function (event) {\n    _super.prototype.onModelChange.call(this, event);\n\n    if (event.type === ViewModelChangeEventType.RESIZE) {\n      if (this._editing) {\n        this.doBackgroundLayout();\n\n        this._grid.redraw();\n      }\n    }\n  };\n\n  Object.defineProperty(WritableNiceDag.prototype, \"grid\", {\n    get: function get() {\n      return this._grid;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WritableNiceDag.prototype, \"validDndThreshold\", {\n    get: function get() {\n      return 3;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WritableNiceDag.prototype.addJointNode = function (node, point, targetNodeId) {\n    if (targetNodeId === void 0) {\n      targetNodeId = 'root';\n    }\n\n    if (targetNodeId === 'root') {\n      this.rootModel.addNode(node, point, true);\n    } else {\n      var parentNode = this.rootModel.findNodeById(targetNodeId);\n      parentNode.addChildNode(node, point);\n    }\n  };\n\n  WritableNiceDag.prototype.addNode = function (node, point, targetNodeId) {\n    if (targetNodeId === void 0) {\n      targetNodeId = 'root';\n    }\n\n    if (targetNodeId === 'root') {\n      this.rootModel.addNode(node, point);\n    } else {\n      var parentNode = this.rootModel.findNodeById(targetNodeId);\n      parentNode.addChildNode(node, point);\n    }\n  };\n\n  Object.defineProperty(WritableNiceDag.prototype, \"editing\", {\n    get: function get() {\n      return this._editing;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WritableNiceDag.prototype.center = function (size) {\n    if (!this._editing) {\n      _super.prototype.center.call(this, size);\n\n      this.doBackgroundLayout();\n      this.setGridVisible(this._editing);\n    }\n\n    return this;\n  };\n\n  WritableNiceDag.prototype.doBackgroundLayout = function () {\n    var zoomLayerBounds = this.zoomLayer.getBoundingClientRect();\n    var _a = this.scale,\n        scale = _a === void 0 ? 1 : _a;\n    /**\n     * Reset to ratio 1\n     */\n\n    var mainLayerBounds = this.mainLayer.getBoundingClientRect();\n    var size = {\n      width: utils.float2Int(zoomLayerBounds.width / scale),\n      height: utils.float2Int(zoomLayerBounds.height / scale)\n    };\n\n    if (zoomLayerBounds.width < mainLayerBounds.width) {\n      size.width = utils.float2Int(mainLayerBounds.width / scale);\n    }\n\n    if (zoomLayerBounds.height < mainLayerBounds.height) {\n      size.height = utils.float2Int(mainLayerBounds.height / scale);\n    }\n\n    var bounds = __assign({\n      x: 0,\n      y: 0\n    }, size);\n\n    utils.editHtmlElement(this.editorBkgContainer).withAbsolutePosition(bounds);\n  };\n\n  WritableNiceDag.prototype.setGridVisible = function (visible) {\n    if (visible) {\n      this._grid.render();\n    } else {\n      this._grid.clear();\n    }\n  };\n\n  WritableNiceDag.prototype.prettifier = function () {\n    var _editing = this.editing;\n    this.stopEditing();\n    this.rootModel.doLayout(true, true);\n    this.justifyCenter(this.parentSize);\n\n    if (_editing) {\n      this.startEditing();\n    }\n  };\n\n  WritableNiceDag.prototype.resizeBackground = function (parentElement, bounds) {\n    var backgroundBounds = parentElement.getBoundingClientRect();\n    var relativeRight = bounds.x + bounds.width - backgroundBounds.x;\n    var relativeBottom = bounds.y + bounds.height - backgroundBounds.y;\n\n    if (backgroundBounds.width < relativeRight) {\n      var width = utils.float2Int(relativeRight / (this._scale || 1));\n      utils.editHtmlElement(this.svgDndBackground).withWidth(width);\n      utils.editHtmlElement(this.svgGridBkg).withWidth(width);\n    }\n\n    if (backgroundBounds.height < relativeBottom) {\n      var height = utils.float2Int(relativeBottom / (this._scale || 1));\n      utils.editHtmlElement(this.svgDndBackground).withHeight(height);\n      utils.editHtmlElement(this.svgGridBkg).withHeight(height);\n    }\n\n    return backgroundBounds.width < relativeRight || backgroundBounds.height < relativeBottom;\n  };\n\n  WritableNiceDag.prototype.resizeIfNeeded = function (globalBounds) {\n    var ifNeeded = this.resizeBackground(this.svgGridBkg, globalBounds);\n\n    if (ifNeeded) {\n      this._grid.redraw();\n    }\n\n    return ifNeeded;\n  };\n\n  WritableNiceDag.prototype.render = function () {\n    _super.prototype.render.call(this);\n\n    this.doBackgroundLayout();\n    this._grid = new NiceDagGrid(this.svgGridBkg, this.config.gridSize, this._scale);\n    this.setGridVisible(this._editing);\n  };\n\n  WritableNiceDag.prototype.justifyCenter = function (size) {\n    if (!this._editing && size) {\n      var zoomLayerBounds = this.zoomLayer.getBoundingClientRect();\n      var offsetX = 0;\n      var offsetY = 0;\n      var width = 0;\n      var height = 0;\n\n      if (size.width > zoomLayerBounds.width) {\n        offsetX = (size.width - zoomLayerBounds.width) / 2;\n        width = utils.float2Int(size.width / this.scale);\n      }\n\n      if (size.height > zoomLayerBounds.height) {\n        offsetY = (size.height - zoomLayerBounds.height) / 2;\n        height = utils.float2Int(size.height / this.scale);\n      }\n\n      this.rootView.justifySize({\n        width: width,\n        height: height\n      });\n\n      if (offsetX > 0 || offsetY > 0) {\n        this.rootModel.setRootOffset({\n          offsetX: utils.float2Int(offsetX / this.scale),\n          offsetY: utils.float2Int(offsetY / this.scale)\n        });\n      }\n\n      this.doBackgroundLayout();\n    }\n  };\n\n  WritableNiceDag.prototype.setScale = function (scale) {\n    _super.prototype.setScale.call(this, scale);\n\n    this.editorBkgContainer.style.transform = \"scale(\".concat(scale, \")\");\n    this.editorBkgContainer.style.transformOrigin = \"left top\";\n    this.doBackgroundLayout();\n    this._grid.scale = scale;\n\n    if (this.grid.visible) {\n      this._grid.redraw();\n    }\n  };\n\n  WritableNiceDag.prototype.getParentTopLeft = function (node) {\n    var bounds = node.ref.parentElement.getBoundingClientRect();\n    return {\n      x: bounds.left,\n      y: bounds.top\n    };\n  };\n\n  WritableNiceDag.prototype.destory = function () {\n    _super.prototype.destory.call(this);\n\n    this._dnd.destory();\n  };\n\n  return WritableNiceDag;\n}(ReadOnlyNiceDag);\n\nexport default WritableNiceDag;","import ReadOnlyNiceDag from './ReadOnlyNiceDag';\nimport WritableNiceDag from './WritableNiceDag';\nimport * as niceDagHolder from './niceDagHolder';\n\nfunction init(initArgs, editable) {\n  if (editable === void 0) {\n    editable = false;\n  }\n\n  var niceDag = editable ? new WritableNiceDag(initArgs) : new ReadOnlyNiceDag(initArgs);\n  niceDagHolder.set(niceDag.id, niceDag);\n  return niceDag;\n}\n\nexport default {\n  use: niceDagHolder.use,\n  init: init\n};","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport React, { useEffect, useState, useRef, useCallback, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport NiceDag from '@ebay/nice-dag-core';\n\nvar NiceDagNode =\n/** @class */\nfunction (_super) {\n  __extends(NiceDagNode, _super);\n\n  function NiceDagNode() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  NiceDagNode.prototype.render = function () {\n    if (this.props.niceDag && this.props.node.ref) {\n      var domRef = this.props.niceDag.getElementByNodeId(this.props.node.id);\n\n      if (domRef) {\n        return ReactDOM.createPortal(this.props.render(this.props), domRef);\n      }\n    }\n\n    return null;\n  };\n\n  return NiceDagNode;\n}(React.Component);\n\nexport { NiceDagNode };\n;\n\nvar NiceDagEdge =\n/** @class */\nfunction (_super) {\n  __extends(NiceDagEdge, _super);\n\n  function NiceDagEdge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  NiceDagEdge.prototype.render = function () {\n    if (this.props.niceDag && this.props.edge.ref) {\n      return ReactDOM.createPortal(this.props.render(this.props), this.props.edge.ref);\n    }\n\n    return null;\n  };\n\n  return NiceDagEdge;\n}(React.Component);\n\nexport { NiceDagEdge };\n;\nexport function useNiceDagEdge(edge) {\n  var onEdgeRemove = useCallback(function () {\n    edge.remove();\n  }, [edge]);\n  var onNodeInsert = useCallback(function (nodes, offset) {\n    if (offset === void 0) {\n      offset = 40;\n    }\n\n    edge.insertNodes(nodes, offset);\n  }, [edge]);\n  return {\n    onEdgeRemove: onEdgeRemove,\n    onNodeInsert: onNodeInsert\n  };\n}\nexport function useNiceDagNode(_a) {\n  var node = _a.node,\n      niceDag = _a.niceDag;\n  var onNodeRemove = useCallback(function () {\n    node.remove();\n  }, [node]);\n  var startEdgeDragging = useCallback(function (e) {\n    niceDag.startEdgeDragging(node, e);\n  }, [niceDag, node]);\n  var startNodeDragging = useCallback(function (e) {\n    niceDag.startNodeDragging(node, e);\n  }, [niceDag, node]);\n  return {\n    onNodeRemove: onNodeRemove,\n    startEdgeDragging: startEdgeDragging,\n    startNodeDragging: startNodeDragging\n  };\n}\n\nfunction validateProps(args) {\n  var initNodes = args.initNodes;\n\n  if (!initNodes) {\n    throw new Error(\"initNodes can't be undefined!\");\n  }\n}\n\nexport function useNiceDag(args) {\n  validateProps(args);\n\n  var onMount = args.onMount,\n      renderNode = args.renderNode,\n      renderEdge = args.renderEdge,\n      scrollPosition = args.scrollPosition,\n      initNodes = args.initNodes,\n      minimapConfig = args.minimapConfig,\n      niceDagConfig = __rest(args, [\"onMount\", \"renderNode\", \"renderEdge\", \"scrollPosition\", \"initNodes\", \"minimapConfig\"]);\n\n  var niceDagEl = useRef(null);\n  var minimapEl = useRef(null);\n  var niceDagRef = useRef(null);\n  var prevInitNodesRef = useRef();\n\n  var _a = useState(0),\n      patchVersion = _a[0],\n      setPatchVersion = _a[1];\n\n  var reset = useCallback(function () {\n    if (niceDagRef.current) {\n      niceDagRef.current.destory();\n    }\n  }, [setPatchVersion]);\n  var onNiceDagChange = useMemo(function () {\n    return {\n      onChange: function onChange() {\n        setPatchVersion(patchVersion + 1);\n      }\n    };\n  }, [setPatchVersion, patchVersion]);\n  useEffect(function () {\n    if (prevInitNodesRef.current !== initNodes) {\n      if (!niceDagRef.current) {\n        var niceDag = NiceDag.init(__assign({\n          container: niceDagEl.current,\n          minimapContainer: minimapEl.current,\n          minimapConfig: minimapConfig\n        }, niceDagConfig), args.editable);\n        niceDagRef.current = niceDag;\n      }\n\n      niceDagRef.current.withNodes(initNodes).render();\n      setPatchVersion(patchVersion + 1);\n      prevInitNodesRef.current = initNodes;\n      onMount && onMount();\n    }\n    /**\n     * Add listener here is to pass onChange closure variables \"patchVersion\"\n     */\n\n\n    niceDagRef.current.addNiceDagChangeListener(onNiceDagChange);\n    return function () {\n      niceDagRef.current.removeNiceDagChangeListener(onNiceDagChange);\n    };\n  }, [initNodes, setPatchVersion, patchVersion, onMount]);\n  /**\n   * Just clean when the component is removed\n   */\n\n  useEffect(function () {\n    return function () {\n      if (niceDagRef.current) {\n        niceDagRef.current.destory();\n      }\n    };\n  }, []);\n  return {\n    niceDag: niceDagRef.current,\n    niceDagEl: niceDagEl,\n    minimapEl: minimapEl,\n    render: function render() {\n      if (niceDagRef.current) {\n        var allNodes = niceDagRef.current.getAllNodes();\n        console.log(allNodes, allNodes.map(function (node) {\n          return node.id;\n        }));\n        var elements = (allNodes === null || allNodes === void 0 ? void 0 : allNodes.length) > 0 ? allNodes.map(function (node) {\n          return React.createElement(NiceDagNode, {\n            render: renderNode,\n            node: node,\n            key: node.id,\n            niceDag: niceDagRef.current,\n            patchVersion: patchVersion\n          });\n        }) : null;\n\n        if (renderEdge) {\n          var allEdges = niceDagRef.current.getAllEdges();\n          var edgeElements = (allEdges === null || allEdges === void 0 ? void 0 : allEdges.length) > 0 ? allEdges.map(function (edge) {\n            return React.createElement(NiceDagEdge, {\n              render: renderEdge,\n              edge: edge,\n              patchVersion: patchVersion,\n              key: \"edge-\".concat(edge.source.id, \"-\").concat(edge.target.id),\n              niceDag: niceDagRef.current\n            });\n          }) : [];\n          elements = __spreadArray(__spreadArray([], elements, true), edgeElements, true);\n        }\n\n        return elements;\n      }\n\n      return null;\n    },\n    reset: reset\n  };\n}","export const HierarchicalModel = [\n  {\n    id: 'start',\n  },\n  {\n    id: 'git-clone',\n    dependencies: ['start'],\n    data: {\n      label: 'Git Clone',\n    },\n  },\n  {\n    id: 'mvn',\n    dependencies: ['git-clone'],\n    data: {\n      label: 'Mvn Install',\n    },\n  },\n  {\n    id: 'security-check',\n    dependencies: ['git-clone'],\n    data: {\n      label: 'Security Check',\n    },\n  },\n  {\n    id: 'build',\n    dependencies: ['mvn', 'security-check'],\n    data: {\n      label: 'Build',\n      lazyLoadingChildren: true\n    },\n  },\n  {\n    id: 'deploy-fp-1',\n    dependencies: ['build'],\n    data: {\n      label: 'Deploy Feature-1',\n    },\n    children: [\n      {\n        id: 'provision-fp-1',\n        data: {\n          label: 'Provision Pool',\n        },\n      },\n      {\n        id: 'deployment-fp-1',\n        dependencies: ['provision-fp-1'],\n        data: {\n          label: 'Deployment',\n        },\n      },\n    ],\n  },\n  {\n    id: 'deploy-fp-2',\n    dependencies: ['build'],\n    data: {\n      label: 'Deploy Feature-2',\n    },\n    children: [\n      {\n        id: 'provision-fp-2',\n        data: {\n          label: 'Provision Pool',\n        },\n      },\n      {\n        id: 'deployment-fp-2',\n        dependencies: ['provision-fp-2'],\n        data: {\n          label: 'Deployment',\n        },\n      },\n    ],\n  },\n  {\n    id: 'smoke-test',\n    dependencies: ['deploy-fp-1', 'deploy-fp-2'],\n  },\n  {\n    id: 'integration-test',\n    dependencies: ['smoke-test'],\n  },\n  {\n    id: 'prod-deployment',\n    dependencies: ['integration-test'],\n  },\n  {\n    id: 'end',\n    dependencies: ['prod-deployment'],\n  },\n];\n\nexport const FlattenModel = [\n  {\n    id: 'start',\n  },\n  {\n    id: 'git-clone',\n    dependencies: ['start'],\n    data: {\n      label: 'Git Clone',\n    },\n  },\n  {\n    id: 'mvn',\n    dependencies: ['git-clone'],\n    data: {\n      label: 'Mvn Install',\n    },\n  },\n  {\n    id: 'security-check',\n    dependencies: ['git-clone'],\n    data: {\n      label: 'Security Check',\n    },\n  },\n  {\n    id: 'build',\n    dependencies: ['mvn', 'security-check'],\n    data: {\n      label: 'Build',\n    },\n  },\n  {\n    id: 'deploy-fp-1',\n    dependencies: ['build'],\n    data: {\n      label: 'Deploy Feature-1',\n    },\n  },\n  {\n    id: 'provision-fp-1',\n    data: {\n      label: 'Provision Pool',\n    },\n    parentId: 'deploy-fp-1'\n  },\n  {\n    id: 'deployment-fp-1',\n    dependencies: ['provision-fp-1'],\n    data: {\n      label: 'Deployment',\n    },\n    parentId: 'deploy-fp-1'\n  },\n  {\n    id: 'deploy-fp-2',\n    dependencies: ['build'],\n    data: {\n      label: 'Deploy Feature-2',\n    },\n  },\n  {\n    id: 'provision-fp-2',\n    data: {\n      label: 'Provision Pool',\n    },\n    parentId: 'deploy-fp-2'\n  },\n  {\n    id: 'deployment-fp-2',\n    dependencies: ['provision-fp-2'],\n    data: {\n      label: 'Deployment',\n    },\n    parentId: 'deploy-fp-2'\n  },\n  {\n    id: 'deployment-fp-3',\n    dependencies: ['deployment-fp-2'],\n    data: {\n      label: 'Last Step',\n    },\n    parentId: 'deploy-fp-2'\n\n  },\n  {\n    id: 'deployment-fp-2-2',\n    data: {\n      label: 'Deployment-child',\n    },\n    parentId: 'deployment-fp-2'\n  },\n  {\n    id: 'deployment-fp-2-2-child',\n    data: {\n      label: 'Deployment-child-child',\n    },\n    parentId: 'deployment-fp-2-2'\n  },\n  {\n    id: 'smoke-test',\n    dependencies: ['deploy-fp-1', 'deploy-fp-2'],\n  },\n  {\n    id: 'integration-test',\n    dependencies: ['smoke-test'],\n  },\n  {\n    id: 'prod-deployment',\n    dependencies: ['integration-test'],\n  },\n  {\n    id: 'end',\n    dependencies: ['prod-deployment'],\n  },\n];","import React, { useState, useCallback } from 'react';\nimport { Slider, Space } from 'antd';\nimport { ZoomInOutlined, ZoomOutOutlined } from '@ant-design/icons';\n\nexport default function ZoomInOutSlider({ onScaleChange }) {\n  const [scale, setScale] = useState(100);\n  const onSlideValueChange = useCallback(\n    value => {\n      setScale(value);\n      onScaleChange(value);\n    },\n    [onScaleChange],\n  );\n  return (\n    <Space>\n      <ZoomOutOutlined />\n      <Slider defaultValue={scale} onChange={onSlideValueChange} />\n      <ZoomInOutlined />\n    </Space>\n  );\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useNiceDag } from '@ebay/nice-dag-react';\nimport { HierarchicalModel, FlattenModel } from '../data/ReadOnlyViewData';\nimport { FullscreenExitOutlined, PlusCircleOutlined } from '@ant-design/icons';\nimport { Button, Space, Select } from 'antd';\nimport ZoomInOutSlider from './ZoomInOutSlider';\n\nconst Option = Select.Option;\n\nconst NODE_WIDTH = 150;\nconst NODE_HEIGHT = 60;\nconst CIRCLE_W_H = 30;\n\nfunction StartNode() {\n  return <div className=\"readonly-sample-start-node\" />;\n}\n\nfunction EndNode() {\n  return <div className=\"readonly-sample-end-node\" />;\n}\n\nfunction Connector({ type }) {\n  return <div className={`readonly-sample-connector-${type}`} />;\n}\n\nfunction Joint() {\n  return <div className={`readonly-sample-joint-node`} />;\n}\n\nfunction GroupControl({ node }) {\n  return (\n    <div className=\"readonly-sample-node-group-content\">\n      <div>\n        {node.data?.label || node.id}\n        <Button\n          icon={<FullscreenExitOutlined />}\n          onClick={() => {\n            node.shrink();\n          }}\n          type=\"link\"\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction NodeControl({ node }) {\n  return (\n    <div className=\"readonly-sample-node-content\">\n      <span>{node.data?.label || node.id}</span>\n      {(node.children?.length > 0 || node.data?.lazyLoadingChildren) && (\n        <Button\n          icon={<PlusCircleOutlined />}\n          onClick={() => {\n            if (node.data?.lazyLoadingChildren) {\n              node.withChildren(new Promise((resolve) => {\n                resolve([{\n                  id: 'step-1',\n                }, {\n                  id: 'step-2',\n                  dependencies: ['step-1']\n                }])\n              }));\n            } else {\n              node.expand();\n            }\n          }}\n          type=\"link\"\n        />\n      )}\n    </div>\n  );\n}\n\nfunction SampleNode({ node, niceDag }) {\n  return (\n    <div className=\"readonly-sample-node\">\n      {node.children?.length > 0 && !node.collapse ? (\n        <GroupControl node={node} niceDag={niceDag} />\n      ) : (\n        <NodeControl node={node} niceDag={niceDag} />\n      )}\n      <Connector type=\"in\" />\n      <Connector type=\"out\" />\n    </div>\n  );\n}\n\nconst getNodeSize = node => {\n  if (node.id === 'start' || node.id === 'end' || node.joint) {\n    return {\n      width: CIRCLE_W_H,\n      height: CIRCLE_W_H,\n    };\n  }\n  return {\n    width: NODE_WIDTH,\n    height: NODE_HEIGHT,\n  };\n};\n\nconst NODE_COMP_MAPPER = {\n  start: StartNode,\n  end: EndNode,\n};\n\nconst renderNode = ({ node, niceDag }) => {\n  let Comp = NODE_COMP_MAPPER[node.id] || SampleNode;\n  if (node.joint) {\n    Comp = Joint;\n  }\n  return <Comp node={node} niceDag={niceDag} />;\n};\n\nconst renderEdge = ({ edge, niceDag }) => {\n  return <div className=\"readonly-sample-edge-label\">to</div>;\n};\n\nexport default function ReadOnlyView() {\n  const { niceDag, niceDagEl, minimapEl, render } = useNiceDag({\n    initNodes: HierarchicalModel,\n    getNodeSize,\n    renderNode,\n    renderEdge,\n    minimapConfig: {\n      viewBoxClassName: 'readonly-sample-minimap-viewbox',\n    }\n  });\n  useEffect(() => {\n    if (niceDag) {\n      const bounds = niceDagEl.current.getBoundingClientRect();\n      niceDag.center({\n        width: bounds.width,\n        height: 400,\n      });\n    }\n  }, [niceDag, niceDagEl]);\n  const onDirectionChange = useCallback((value) => {\n    niceDag.setDirection(value);\n  }, [niceDag]);\n  return (\n    <div className=\"readonly-sample\">\n      <div>\n        <Space>\n          <label>Direction</label>\n          <Select defaultValue=\"LR\" style={{ width: 120 }} onChange={onDirectionChange}>\n            <Option value=\"LR\">Left to Right</Option>\n            <Option value=\"RL\">Right to Left</Option>\n            <Option value=\"TB\">Top To Bottom</Option>\n            <Option value=\"BT\">Bottom To Top</Option>\n          </Select>\n          <ZoomInOutSlider onScaleChange={value => niceDag.setScale(value / 100)} />\n        </Space>\n      </div>\n      <div className=\"readonly-sample-content\">\n        <div className=\"readonly-sample-content-nice-dag\" ref={niceDagEl} />\n        <div className=\"readonly-sample-content-minimap\" >\n          <div className=\"readonly-sample-content-minimap-body\" ref={minimapEl} />\n        </div>\n        {render()}\n      </div>\n    </div>\n  );\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useNiceDag, useNiceDagNode, useNiceDagEdge } from '@ebay/nice-dag-react';\nimport { HierarchicalModel } from '../data/ReadOnlyViewData';\nimport {\n  FullscreenExitOutlined,\n  PlusCircleOutlined,\n  DragOutlined,\n  CloseCircleOutlined,\n  CloseOutlined\n} from '@ant-design/icons';\nimport { Button, Dropdown, Menu, Space } from 'antd';\nimport ZoomInOutSlider from './ZoomInOutSlider';\n\nconst NODE_WIDTH = 150;\nconst NODE_HEIGHT = 60;\nconst CIRCLE_W_H = 30;\n\nfunction StartNode({ node, niceDag }) {\n  const { startNodeDragging } = useNiceDagNode({ node, niceDag });\n  return (\n    <div className=\"editable-sample-start-node\">\n      <div className=\"editable-sample-start-node-move-hand\" onMouseDown={startNodeDragging} />\n      <SquareConnector type=\"out\" node={node} niceDag={niceDag} />\n    </div>\n  );\n}\n\nfunction EndNode({ node, niceDag }) {\n  const { startNodeDragging } = useNiceDagNode({ node, niceDag });\n  return (\n    <div className=\"editable-sample-end-node\" onMouseDown={startNodeDragging}>\n      <SquareConnector type=\"in\" />\n    </div>\n  );\n}\n\nlet nodeCtnRef = 0;\nfunction Edge({ edge }) {\n  const { onEdgeRemove, onNodeInsert } = useNiceDagEdge(edge);\n  const runInsertBetween = useCallback(() => {\n    onNodeInsert([\n      {\n        'id': `insert-node-${nodeCtnRef}`\n      },\n      {\n        'id': `insert-node-${nodeCtnRef + 1}`\n      },\n      {\n        'id': `insert-node-${nodeCtnRef + 2}`\n      }\n    ]);\n    nodeCtnRef += 3;\n  }, [onNodeInsert]);\n  const menu = (\n    <Menu\n      items={[\n        {\n          key: '1',\n          label: <span onClick={onEdgeRemove}>Remove</span>,\n        },\n        {\n          key: '2',\n          label: <span onClick={runInsertBetween}>Insert Tasks</span>,\n        },\n      ]}\n    />\n  );\n  return (\n    <div className=\"editable-sample-edge-label\">\n      <Dropdown overlay={menu}>\n        <div />\n      </Dropdown>\n    </div>\n  );\n}\n\nconst renderEdge = props => {\n  return <Edge {...props} />;\n};\n\nfunction Connector({ type, niceDag, node }) {\n  const { startEdgeDragging } = useNiceDagNode({ node, niceDag });\n  return <div className={`editable-sample-connector-${type}`} onMouseDown={startEdgeDragging}\n    aria-label={`${type === 'in' ? 'Inbound' : 'Outbound'}Connector`} role=\"button\" />\n}\n\nfunction SquareConnector({ type, niceDag, node }) {\n  const { startEdgeDragging } = useNiceDagNode({ node, niceDag });\n  return (\n    <div className={`editable-sample-square-connector-${type}`} onMouseDown={startEdgeDragging} />\n  );\n}\n\nfunction Joint({ node, niceDag }) {\n  const { onNodeRemove, startNodeDragging } = useNiceDagNode({ node, niceDag });\n  return <div className=\"editable-sample-joint-node\">\n    <div className=\"editable-sample-joint-node-move\" onMouseDown={startNodeDragging}>\n      <DragOutlined />\n    </div>\n    <div\n      className=\"editable-sample-joint-node-remove-button\"\n      role=\"button\"\n      onMouseDown={onNodeRemove}\n      aria-label=\"Remove joint node\"\n    >\n      <CloseOutlined />\n    </div>\n    <SquareConnector type=\"in\" />\n    <SquareConnector type=\"out\" node={node} niceDag={niceDag} />\n  </div>;\n}\n\nfunction GroupControl({ node, niceDag }) {\n  const { onNodeRemove, startNodeDragging } = useNiceDagNode({ node, niceDag });\n  return (\n    <div className=\"editable-sample-node-group-content\">\n      <div>\n        <div className=\"editable-sample-node-group-content-bar\" onMouseDown={startNodeDragging}>\n          <span>{node.data?.label || node.id}</span>\n          <DragOutlined />\n        </div>\n        <div\n          className=\"editable-sample-node-group-content-delete-button\"\n          role=\"button\"\n          onMouseDown={onNodeRemove}\n        >\n          <CloseCircleOutlined />\n        </div>\n        <Button\n          icon={<FullscreenExitOutlined />}\n          onClick={() => {\n            node.shrink();\n          }}\n          type=\"link\"\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction NodeControl({ node, niceDag }) {\n  const { onNodeRemove, startNodeDragging } = useNiceDagNode({ node, niceDag });\n  return (\n    <div className=\"editable-sample-node-content\">\n      <div className=\"editable-sample-node-content-bar\" onMouseDown={startNodeDragging}>\n        <span>{node.data?.label || node.id}</span>\n        <DragOutlined />\n      </div>\n      <div\n        className=\"editable-sample-node-content-delete-button\"\n        role=\"button\"\n        onMouseDown={onNodeRemove}\n      >\n        <CloseCircleOutlined />\n      </div>\n      {(node.children?.length > 0 || node.data?.lazyLoadingChildren) && (\n        <Button\n          icon={<PlusCircleOutlined />}\n          onClick={() => {\n            if (node.data?.lazyLoadingChildren) {\n              node.withChildren(new Promise((resolve) => {\n                resolve([{\n                  id: 'step-1',\n                }, {\n                  id: 'step-2',\n                  dependencies: ['step-1']\n                }])\n              }));\n            } else {\n              node.expand();\n            }\n          }}\n          type=\"link\"\n        />\n      )}\n    </div>\n  );\n}\n\nfunction SampleNode({ node, niceDag }) {\n  return (\n    <div className=\"editable-sample-node\">\n      {node.children?.length > 0 && !node.collapse ? (\n        <GroupControl node={node} niceDag={niceDag} />\n      ) : (\n        <NodeControl node={node} niceDag={niceDag} />\n      )}\n      <Connector type=\"in\" />\n      <Connector type=\"out\" node={node} niceDag={niceDag} />\n    </div>\n  );\n}\n\nconst getNodeSize = node => {\n  if (node.id === 'start' || node.id === 'end' || node.joint) {\n    return {\n      width: CIRCLE_W_H,\n      height: CIRCLE_W_H,\n    };\n  }\n  return {\n    width: NODE_WIDTH,\n    height: NODE_HEIGHT,\n  };\n};\n\nconst NODE_COMP_MAPPER = {\n  start: StartNode,\n  end: EndNode,\n};\n\nconst renderNode = ({ node, niceDag }) => {\n  let Comp = NODE_COMP_MAPPER[node.id] || SampleNode;\n  if (node.joint) {\n    Comp = Joint;\n  }\n  return <Comp node={node} niceDag={niceDag} />;\n};\n\nexport default function EditableDagView() {\n  const { niceDag, niceDagEl, render } = useNiceDag({\n    initNodes: HierarchicalModel,\n    getNodeSize,\n    renderNode,\n    editable: true,\n    renderEdge,\n    jointEdgeConnectorType: 'CENTER_OF_BORDER'\n  });\n  useEffect(() => {\n    if (niceDag) {\n      const bounds = document.querySelector('.editable-sample').getBoundingClientRect();\n      niceDag\n        .center({\n          width: bounds.width,\n          height: 400,\n        })\n        .startEditing();\n    }\n  }, [niceDag]);\n  return (\n    <div className=\"editable-sample\">\n      <div>\n        <Space>\n          <Button\n            size=\"small\"\n            onClick={() => {\n              niceDag.prettifier();\n            }}\n          >\n            Prettifier\n          </Button>\n          <Button\n            size=\"small\"\n            onClick={() => {\n              niceDag.addNode({\n                id: `new-node-${nodeCtnRef}`,\n              }, {\n                x: 40,\n                y: 40\n              });\n              nodeCtnRef = nodeCtnRef + 1;\n            }}\n          >\n            Add Node\n          </Button>\n          <Button\n            size=\"small\"\n            onClick={() => {\n              niceDag.addJointNode({\n                id: `new-node-${nodeCtnRef}`\n              }, {\n                x: 40,\n                y: 40\n              });\n              nodeCtnRef = nodeCtnRef + 1;\n            }}\n          >\n            Add Joint Node\n          </Button>\n          <ZoomInOutSlider onScaleChange={value => niceDag.setScale(value / 100)} />\n        </Space>\n      </div>\n      <div className=\"editable-sample-nice-dag-wrapper\" ref={niceDagEl} />\n      {render()}\n    </div>\n  );\n}\n","export const ComplexFlattenModel = [\n    {\n        id: 'start',\n    },\n    {\n        id: 'parent',\n        dependencies: ['start'],\n        data: {\n            label: 'Parent',\n        },\n    },\n    {\n        id: 'child-1',\n        data: {\n            label: 'Child-1',\n        },\n        parentId: 'parent'\n    },\n    {\n        id: 'child-2',\n        dependencies: ['child-1'],\n        data: {\n            label: 'Child-2',\n        },\n        parentId: 'parent'\n    },\n    {\n        id: 'child-1-1',\n        data: {\n            label: 'Child-1-1',\n        },\n        parentId: 'child-1'\n    },\n    {\n        id: 'end',\n        dependencies: ['parent'],\n    },\n];","import React, { useEffect } from 'react';\nimport { useNiceDag } from '@ebay/nice-dag-react';\nimport { ComplexFlattenModel } from '../data/ComplexHierarchicalViewData';\nimport { FullscreenExitOutlined, PlusCircleOutlined } from '@ant-design/icons';\nimport { Button, Space } from 'antd';\nimport ZoomInOutSlider from './ZoomInOutSlider';\n\nconst NODE_WIDTH = 150;\nconst NODE_HEIGHT = 60;\nconst CIRCLE_W_H = 30;\n\nfunction StartNode() {\n  return <div className=\"complex-sample-start-node\" />;\n}\n\nfunction EndNode() {\n  return <div className=\"complex-sample-end-node\" />;\n}\n\nfunction Connector({ type }) {\n  return <div className={`complex-sample-connector-${type}`} />;\n}\n\nfunction Joint() {\n  return <div className={`complex-sample-joint-node`} />;\n}\n\nfunction GroupControl({ node }) {\n  return (\n    <div className=\"complex-sample-node-group-content\">\n      <div>\n        {node.data?.label || node.id}\n        <Button\n          icon={<FullscreenExitOutlined />}\n          onClick={() => {\n            node.shrink();\n          }}\n          type=\"link\"\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction NodeControl({ node }) {\n  return (\n    <div className=\"complex-sample-node-content\">\n      <span>{node.data?.label || node.id}</span>\n      {(node.children?.length > 0 || node.data?.lazyLoadingChildren) && (\n        <Button\n          icon={<PlusCircleOutlined />}\n          onClick={() => {\n            if (node.data?.lazyLoadingChildren) {\n              node.withChildren(new Promise((resolve) => {\n                resolve([{\n                  id: 'step-1',\n                }, {\n                  id: 'step-2',\n                  dependencies: ['step-1']\n                }])\n              }));\n            } else {\n              node.expand();\n            }\n          }}\n          type=\"link\"\n        />\n      )}\n    </div>\n  );\n}\n\nfunction SampleNode({ node, niceDag }) {\n  return (\n    <div className=\"complex-sample-node\">\n      {node.children?.length > 0 && !node.collapse ? (\n        <GroupControl node={node} niceDag={niceDag} />\n      ) : (\n        <NodeControl node={node} niceDag={niceDag} />\n      )}\n      <Connector type=\"in\" />\n      <Connector type=\"out\" />\n    </div>\n  );\n}\n\nconst getNodeSize = node => {\n  if (node.id === 'start' || node.id === 'end' || node.joint) {\n    return {\n      width: CIRCLE_W_H,\n      height: CIRCLE_W_H,\n    };\n  }\n  return {\n    width: NODE_WIDTH,\n    height: NODE_HEIGHT,\n  };\n};\n\nconst NODE_COMP_MAPPER = {\n  start: StartNode,\n  end: EndNode,\n};\n\nconst renderNode = ({ node, niceDag }) => {\n  let Comp = NODE_COMP_MAPPER[node.id] || SampleNode;\n  if (node.joint) {\n    Comp = Joint;\n  }\n  return <Comp node={node} niceDag={niceDag} />;\n};\n\nconst renderEdge = ({ edge, niceDag }) => {\n  return <div className=\"complex-sample-edge-label\">to</div>;\n};\n\nfunction mapEdgeToPoints(edge) {\n  const { source, target } = edge;\n  let edgeSource = {\n    x: source.x + source.width,\n    y: source.y + source.height / 2,\n  };\n  let edgeTarget = {\n    x: target.x,\n    y: target.y + target.height / 2,\n  };\n  if (source.joint || source.id.indexOf('start') !== -1) {\n    edgeSource = {\n      x: source.x + source.width / 2,\n      y: source.y + source.height / 2,\n    };\n  } else if (target.joint || target.id.indexOf('end') !== -1) {\n    edgeTarget = {\n      x: target.x + target.width / 2,\n      y: target.y + target.height / 2,\n    };\n  }\n  return {\n    source: edgeSource,\n    target: edgeTarget,\n  };\n}\n\nexport default function ComplexView() {\n  const { niceDag, niceDagEl, render } = useNiceDag({\n    initNodes: ComplexFlattenModel,\n    modelType: 'FLATTEN',\n    getNodeSize,\n    renderNode,\n    mapEdgeToPoints,\n    renderEdge,\n  });\n  useEffect(() => {\n    if (niceDag) {\n      const bounds = niceDagEl.current.getBoundingClientRect();\n      niceDag.center({\n        width: bounds.width,\n        height: 400,\n      });\n    }\n  }, [niceDag, niceDagEl]);\n  return (\n    <div className=\"complex-sample\">\n      <div>\n        <Space>\n          <ZoomInOutSlider onScaleChange={value => niceDag.setScale(value / 100)} />\n        </Space>\n      </div>\n      <div className=\"complex-sample-nice-dag-wrapper\" ref={niceDagEl} />\n      {render()}\n    </div>\n  );\n}\n","import useHash from './useHash';\nimport CodeViewer from './CodeViewer';\nimport { Tabs } from 'antd';\nimport React from 'react';\nimport ReadOnlyView from './cases/sample/ReadOnlyView';\nimport EditableView from './cases/sample/EditableView';\nimport ComplexHierarchicalView from './cases/sample/ComplexHierarchicalView';\n\nconst { TabPane } = Tabs;\n\nconst examples = {\n  'read-only-view': {\n    name: 'Read-Only View',\n    component: <ReadOnlyView />,\n    code: ['ReadOnlyView.js', 'ZoomInOutSlider.js'],\n    less: 'ReadOnlyView.less',\n    data: 'ReadOnlyViewData.js',\n  },\n  'editable-view': {\n    name: 'Editable View',\n    component: <EditableView />,\n    code: ['EditableView.js', 'ZoomInOutSlider.js'],\n    less: 'EditableView.less',\n    data: 'ReadOnlyViewData.js',\n  },\n  'complex-structure-view': {\n    name: 'Complex Structure View',\n    component: <ComplexHierarchicalView />,\n    code: ['ComplexHierarchicalView.js', 'ZoomInOutSlider.js'],\n    less: 'ComplexHierarchicalView.less',\n    data: 'ComplexHierarchicalViewData.js',\n  }\n};\n\nfunction App() {\n  const current = useHash() || 'read-only-view';\n  const renderExample = () => {\n    const item = examples[current];\n    if (!item || !item.component) {\n      return <span style={{ color: 'red' }}>Error: example \"{current}\" not found.</span>;\n    }\n    return (\n      <>\n        <h2>{item.name}</h2>\n        <div className=\"example-container\">{item.component}</div>{' '}\n      </>\n    );\n  };\n  const example = examples[current] || {};\n  const ele = (\n    <div className=\"app\">\n      <div className=\"sider\">\n        <h1>\n          <span className=\"header-name\">@ebay/nice-dag</span>\n          <span className=\"example-title\">Examples</span>\n        </h1>\n        <div className=\"scroll-container\" id=\"scroll-container\">\n          <ul>\n            {Object.keys(examples).map(key => (\n              <li key={key}>\n                <a href={`#${key}`} className={current === key ? 'active' : ''}>\n                  {examples[key].name}\n                </a>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <div className=\"sample-content\">\n        {renderExample()}\n        <div className=\"code-container\">\n          <Tabs defaultActiveKey=\"tab-code\">\n            <TabPane tab=\"Code\" key=\"tab-code\">\n              {example.code.map(f => <div className=\"code-viewer\" key={f}>\n                <div className=\"code-viewer-title\">{f}</div>\n                <CodeViewer filename={f} />\n              </div>)}\n            </TabPane>\n            <TabPane tab=\"Less\" key=\"tab-less\">\n              <CodeViewer filename={example.less} />\n            </TabPane>\n            <TabPane tab=\"Data\" key=\"tab-data\">\n              <CodeViewer filename={example.data} />\n            </TabPane>\n          </Tabs>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (current === 'redux') return ele;\n  else return <div className=\"example-container\">{ele}</div>;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './Root';\nimport * as serviceWorker from './serviceWorker';\nimport './styles/index.less';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}